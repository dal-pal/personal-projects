<!DOCTYPE html>
<html>
<head>
<title>TheBookOfArmaments.md</title>
<meta http-equiv="Content-type" content="text/html;charset=UTF-8">

<style>
/* https://github.com/microsoft/vscode/blob/master/extensions/markdown-language-features/media/markdown.css */
/*---------------------------------------------------------------------------------------------
 *  Copyright (c) Microsoft Corporation. All rights reserved.
 *  Licensed under the MIT License. See License.txt in the project root for license information.
 *--------------------------------------------------------------------------------------------*/

body {
	font-family: var(--vscode-markdown-font-family, -apple-system, BlinkMacSystemFont, "Segoe WPC", "Segoe UI", "Ubuntu", "Droid Sans", sans-serif);
	font-size: var(--vscode-markdown-font-size, 14px);
	padding: 0 26px;
	line-height: var(--vscode-markdown-line-height, 22px);
	word-wrap: break-word;
}

#code-csp-warning {
	position: fixed;
	top: 0;
	right: 0;
	color: white;
	margin: 16px;
	text-align: center;
	font-size: 12px;
	font-family: sans-serif;
	background-color:#444444;
	cursor: pointer;
	padding: 6px;
	box-shadow: 1px 1px 1px rgba(0,0,0,.25);
}

#code-csp-warning:hover {
	text-decoration: none;
	background-color:#007acc;
	box-shadow: 2px 2px 2px rgba(0,0,0,.25);
}

body.scrollBeyondLastLine {
	margin-bottom: calc(100vh - 22px);
}

body.showEditorSelection .code-line {
	position: relative;
}

body.showEditorSelection .code-active-line:before,
body.showEditorSelection .code-line:hover:before {
	content: "";
	display: block;
	position: absolute;
	top: 0;
	left: -12px;
	height: 100%;
}

body.showEditorSelection li.code-active-line:before,
body.showEditorSelection li.code-line:hover:before {
	left: -30px;
}

.vscode-light.showEditorSelection .code-active-line:before {
	border-left: 3px solid rgba(0, 0, 0, 0.15);
}

.vscode-light.showEditorSelection .code-line:hover:before {
	border-left: 3px solid rgba(0, 0, 0, 0.40);
}

.vscode-light.showEditorSelection .code-line .code-line:hover:before {
	border-left: none;
}

.vscode-dark.showEditorSelection .code-active-line:before {
	border-left: 3px solid rgba(255, 255, 255, 0.4);
}

.vscode-dark.showEditorSelection .code-line:hover:before {
	border-left: 3px solid rgba(255, 255, 255, 0.60);
}

.vscode-dark.showEditorSelection .code-line .code-line:hover:before {
	border-left: none;
}

.vscode-high-contrast.showEditorSelection .code-active-line:before {
	border-left: 3px solid rgba(255, 160, 0, 0.7);
}

.vscode-high-contrast.showEditorSelection .code-line:hover:before {
	border-left: 3px solid rgba(255, 160, 0, 1);
}

.vscode-high-contrast.showEditorSelection .code-line .code-line:hover:before {
	border-left: none;
}

img {
	max-width: 100%;
	max-height: 100%;
}

a {
	text-decoration: none;
}

a:hover {
	text-decoration: underline;
}

a:focus,
input:focus,
select:focus,
textarea:focus {
	outline: 1px solid -webkit-focus-ring-color;
	outline-offset: -1px;
}

hr {
	border: 0;
	height: 2px;
	border-bottom: 2px solid;
}

h1 {
	padding-bottom: 0.3em;
	line-height: 1.2;
	border-bottom-width: 1px;
	border-bottom-style: solid;
}

h1, h2, h3 {
	font-weight: normal;
}

table {
	border-collapse: collapse;
}

table > thead > tr > th {
	text-align: left;
	border-bottom: 1px solid;
}

table > thead > tr > th,
table > thead > tr > td,
table > tbody > tr > th,
table > tbody > tr > td {
	padding: 5px 10px;
}

table > tbody > tr + tr > td {
	border-top: 1px solid;
}

blockquote {
	margin: 0 7px 0 5px;
	padding: 0 16px 0 10px;
	border-left-width: 5px;
	border-left-style: solid;
}

code {
	font-family: Menlo, Monaco, Consolas, "Droid Sans Mono", "Courier New", monospace, "Droid Sans Fallback";
	font-size: 1em;
	line-height: 1.357em;
}

body.wordWrap pre {
	white-space: pre-wrap;
}

pre:not(.hljs),
pre.hljs code > div {
	padding: 16px;
	border-radius: 3px;
	overflow: auto;
}

pre code {
	color: var(--vscode-editor-foreground);
	tab-size: 4;
}

/** Theming */

.vscode-light pre {
	background-color: rgba(220, 220, 220, 0.4);
}

.vscode-dark pre {
	background-color: rgba(10, 10, 10, 0.4);
}

.vscode-high-contrast pre {
	background-color: rgb(0, 0, 0);
}

.vscode-high-contrast h1 {
	border-color: rgb(0, 0, 0);
}

.vscode-light table > thead > tr > th {
	border-color: rgba(0, 0, 0, 0.69);
}

.vscode-dark table > thead > tr > th {
	border-color: rgba(255, 255, 255, 0.69);
}

.vscode-light h1,
.vscode-light hr,
.vscode-light table > tbody > tr + tr > td {
	border-color: rgba(0, 0, 0, 0.18);
}

.vscode-dark h1,
.vscode-dark hr,
.vscode-dark table > tbody > tr + tr > td {
	border-color: rgba(255, 255, 255, 0.18);
}

</style>

<style>
/* Tomorrow Theme */
/* http://jmblog.github.com/color-themes-for-google-code-highlightjs */
/* Original theme - https://github.com/chriskempson/tomorrow-theme */

/* Tomorrow Comment */
.hljs-comment,
.hljs-quote {
	color: #8e908c;
}

/* Tomorrow Red */
.hljs-variable,
.hljs-template-variable,
.hljs-tag,
.hljs-name,
.hljs-selector-id,
.hljs-selector-class,
.hljs-regexp,
.hljs-deletion {
	color: #c82829;
}

/* Tomorrow Orange */
.hljs-number,
.hljs-built_in,
.hljs-builtin-name,
.hljs-literal,
.hljs-type,
.hljs-params,
.hljs-meta,
.hljs-link {
	color: #f5871f;
}

/* Tomorrow Yellow */
.hljs-attribute {
	color: #eab700;
}

/* Tomorrow Green */
.hljs-string,
.hljs-symbol,
.hljs-bullet,
.hljs-addition {
	color: #718c00;
}

/* Tomorrow Blue */
.hljs-title,
.hljs-section {
	color: #4271ae;
}

/* Tomorrow Purple */
.hljs-keyword,
.hljs-selector-tag {
	color: #8959a8;
}

.hljs {
	display: block;
	overflow-x: auto;
	color: #4d4d4c;
	padding: 0.5em;
}

.hljs-emphasis {
	font-style: italic;
}

.hljs-strong {
	font-weight: bold;
}
</style>

<style>
/*
 * Markdown PDF CSS
 */

 body {
	font-family: -apple-system, BlinkMacSystemFont, "Segoe WPC", "Segoe UI", "Ubuntu", "Droid Sans", sans-serif, "Meiryo";
	padding: 0 12px;
}

pre {
	background-color: #f8f8f8;
	border: 1px solid #cccccc;
	border-radius: 3px;
	overflow-x: auto;
	white-space: pre-wrap;
	overflow-wrap: break-word;
}

pre:not(.hljs) {
	padding: 23px;
	line-height: 19px;
}

blockquote {
	background: rgba(127, 127, 127, 0.1);
	border-color: rgba(0, 122, 204, 0.5);
}

.emoji {
	height: 1.4em;
}

code {
	font-size: 14px;
	line-height: 19px;
}

/* for inline code */
:not(pre):not(.hljs) > code {
	color: #C9AE75; /* Change the old color so it seems less like an error */
	font-size: inherit;
}

/* Page Break : use <div class="page"/> to insert page break
-------------------------------------------------------- */
.page {
	page-break-after: always;
}

</style>

<script src="https://unpkg.com/mermaid/dist/mermaid.min.js"></script>
</head>
<body>
  <script>
    mermaid.initialize({
      startOnLoad: true,
      theme: document.body.classList.contains('vscode-dark') || document.body.classList.contains('vscode-high-contrast')
          ? 'dark'
          : 'default'
    });
  </script>
<!-- title: The Book of Armaments -->
<h1 id="the-book-of-armaments----omit-in-toc">The Book of Armaments <!-- omit in toc --></h1>
<p><strong>REV 12/15/2020</strong></p>
<p>The ultimate Reports Team cheat sheet.</p>
<p>Written in Markdown and printed to HTML using the Markdown All In One <a href="https://marketplace.visualstudio.com/items?itemName=yzhang.markdown-all-in-one">VSCode Extension</a> published by Yu Zhang.</p>
<p>Need help writing markdown? Here's a good <a href="https://www.markdownguide.org/cheat-sheet/">cheat sheet</a>.</p>
<h2 id="table-of-contents----omit-in-toc">Table of Contents <!-- omit in toc --></h2>
<ul>
<li><a href="#1-miscellaneous">1. Miscellaneous</a>
<ul>
<li><a href="#11-magic-bang">1.1. Magic Bang!</a></li>
<li><a href="#12-fishbowl-major-versions">1.2. Fishbowl Major Versions</a></li>
<li><a href="#13-ireport-uom-conversion">1.3. iReport UOM Conversion</a></li>
<li><a href="#14-common-data-type-conversions-after-reading-fields-in-ireport">1.4. Common Data Type Conversions after reading fields in iReport</a></li>
<li><a href="#15-firebird-vs-mysql">1.5. Firebird vs MySQL</a></li>
<li><a href="#16-custom-fonts">1.6. Custom Fonts</a></li>
</ul>
</li>
<li><a href="#2-java-helpers">2. Java Helpers</a>
<ul>
<li><a href="#21-company-address">2.1. Company Address</a></li>
<li><a href="#22-general-image">2.2. General Image</a></li>
<li><a href="#23-company-logo">2.3. Company Logo</a></li>
<li><a href="#24-ship-signature">2.4. Ship Signature</a></li>
<li><a href="#25-shipitem-tracking">2.5. ShipItem Tracking</a></li>
<li><a href="#26-general-item-tracking">2.6. General Item Tracking</a></li>
<li><a href="#27-pickitem-status-icons">2.7. PickItem Status Icons</a></li>
<li><a href="#28-default-report-header-for-date-range">2.8. Default Report Header for Date Range</a></li>
<li><a href="#29-minus-1-day">2.9. Minus 1 day</a></li>
<li><a href="#210-show-tooltips">2.10. Show Tooltips</a></li>
<li><a href="#211-get-all-custom-fields">2.11. Get All Custom fields</a></li>
</ul>
</li>
<li><a href="#3-xml-copypaste">3. XML Copy/Paste</a>
<ul>
<li><a href="#31-corrupted-xml">3.1. Corrupted XML</a></li>
<li><a href="#32-about-the-rest-of-the-xml-copypaste-section">3.2. About the rest of the XML Copy/Paste Section</a></li>
<li><a href="#33-order-numbers">3.3. Order Numbers</a>
<ul>
<li><a href="#331-order-numbers---required">3.3.1. Order Numbers - Required</a></li>
<li><a href="#332-order-numbers---optional">3.3.2. Order Numbers - Optional</a></li>
</ul>
</li>
<li><a href="#34-parameters">3.4. Parameters</a>
<ul>
<li><a href="#341-a-note-on-syntax">3.4.1. A Note on Syntax</a></li>
<li><a href="#342-useful-custom-parameters">3.4.2. Useful Custom Parameters</a></li>
</ul>
</li>
<li><a href="#35-status-check-box-generator-query">3.5. Status Check Box Generator Query</a></li>
<li><a href="#36-type-check-box-generator-query">3.6. Type Check Box Generator Query</a></li>
<li><a href="#37-custom-field-drop-down-generator-query">3.7. Custom Field Drop Down Generator Query</a></li>
</ul>
</li>
<li><a href="#4-mysql-code">4. MySQL Code</a>
<ul>
<li><a href="#41-inventory">4.1. Inventory</a>
<ul>
<li><a href="#411-calculations">4.1.1. Calculations</a></li>
<li><a href="#412-inventory-module-per-company">4.1.2. Inventory Module per Company</a></li>
<li><a href="#413-inventory-module-per-location-group">4.1.3. Inventory Module Per Location Group</a></li>
</ul>
</li>
<li><a href="#42-match-fishbowls-precisionscale-with-decimals">4.2. Match Fishbowl's precision/scale with Decimals</a></li>
<li><a href="#43-call-createlist">4.3. call createlist</a></li>
<li><a href="#44-report-date-sysvalue">4.4. Report Date SysValue</a></li>
<li><a href="#45-fishbowls-tracking-date-display">4.5. Fishbowl's Tracking Date Display</a></li>
<li><a href="#46-date-ranges">4.6. Date Ranges</a></li>
<li><a href="#47-pre-205-custom-field-query">4.7. Pre 20.5 Custom Field Query</a></li>
<li><a href="#48-205-custom-field-query">4.8. 20.5+ Custom Field Query</a></li>
<li><a href="#49-sequential-counter-without-call-createlist">4.9. Sequential Counter without Call Createlist</a></li>
<li><a href="#410-creating-cumulative-totals-in-mysql">4.10. Creating Cumulative Totals in MySQL</a></li>
<li><a href="#411-select-all-custom-fields-per-table-record">4.11. SELECT all custom fields per table record</a></li>
<li><a href="#412-java-helpers-recreated-in-mysql">4.12. Java Helpers Recreated in MySQL</a>
<ul>
<li><a href="#4121-address-helper-by-location-group">4.12.1. Address Helper By Location Group</a></li>
<li><a href="#4122-get-all-tracking">4.12.2. Get all Tracking</a></li>
</ul>
</li>
<li><a href="#413-addresses">4.13. Addresses</a>
<ul>
<li><a href="#4131-select-full-address">4.13.1. Select Full Address</a></li>
<li><a href="#4132-address-helper-by-accountid">4.13.2. Address Helper By AccountID</a></li>
</ul>
</li>
<li><a href="#414-duplication-workarounds">4.14. Duplication Workarounds</a>
<ul>
<li><a href="#4141-product-tree">4.14.1. Product Tree</a></li>
<li><a href="#4142-part">4.14.2. Part</a></li>
<li><a href="#4143-customer-group">4.14.3. Customer Group</a></li>
</ul>
</li>
<li><a href="#415-part-cost">4.15. Part Cost</a>
<ul>
<li><a href="#4151-pcbcostingmethod">4.15.1. $P{cbCostingMethod}</a></li>
<li><a href="#4152-fifo">4.15.2. FIFO</a></li>
<li><a href="#4153-lifo">4.15.3. LIFO</a></li>
</ul>
</li>
<li><a href="#416-most-recent-date-packed-per-shipid">4.16. Most Recent Date Packed Per shipID</a></li>
<li><a href="#417-po-to-so-via-po-notes">4.17. PO to SO via PO Notes</a></li>
<li><a href="#418-on-hand-by-date-using-subselect-in-derived-table-form">4.18. On Hand By Date using subselect in Derived Table Form</a></li>
<li><a href="#419-part-cost-history-snapshot-by-date">4.19. Part Cost History Snapshot By Date</a></li>
<li><a href="#420-pick-status-information">4.20. Pick Status information</a></li>
</ul>
</li>
<li><a href="#5-stock-report-code-snippets">5. Stock Report Code Snippets</a>
<ul>
<li><a href="#51-on-hand-by-date">5.1. On Hand By Date</a></li>
</ul>
</li>
</ul>
<hr>
<h2 id="1-miscellaneous">1. Miscellaneous</h2>
<h3 id="11-magic-bang">1.1. Magic Bang!</h3>
<p><em><a href="#">Back to Top (HTML)</a></em></p>
<p><em><a href="#Table-of-Contents-%3C!---omit-in-toc---%3E">Back to Top (VS Code)</a></em></p>
<p>There are two basic modes when it comes to Parameters and how they are parsed in Fishbowl.</p>
<ul>
<li>Normal
<ul>
<li>Each Parameter is replaced with <code>?</code> in the query and its value is listed below the query in the Server Log</li>
</ul>
</li>
<li>Magic Bang!
<ul>
<li>The actual value is dropped into the query and not listed below the query in the Server Log. This isn't the technical term, just something the team has come up with because it's fun.</li>
</ul>
</li>
</ul>
<p>Why would you use one over the other? Why does it matter?</p>
<p>The normal mode assumes the user is going to be supplying the database with a value, meaning you, and users, can put whatever you want in the parameter and Fishbowl's MySQL will handle it just fine.</p>
<p>It is recommended to use the normal mode for anything a user can type in manually.</p>
<ul>
<li><code>$P{productNum}</code></li>
<li><code>$P{soNum}</code></li>
<li><code>$P{partNum}</code></li>
<li><code>$P{Custom String Type Parameter}</code></li>
<li>etc.</li>
</ul>
<p>However, there are some parameters that require a Magic Bang! They require the <code>in ()</code> syntax instead of <code>like</code></p>
<ul>
<li><code>$P!{productTree1}</code></li>
<li><code>$P!{locationGroupID}</code></li>
<li><code>$P!{customerGroupID}</code></li>
</ul>
<p>For these, Fishbowl will take the selected value from the Modify Report Window, and drop in a comma separated list in it's place.</p>
<p>*<code>$P!{orderNumbers}</code> works a little different. The <a href="#order-numbers">Order Numbers</a> section in the XML/Copy Paste has details on this</p>
<pre class="hljs"><code><div>locationGroup.id in ($P!{locationGroupID})
<span class="hljs-comment">-- becomes</span>
locationGroup.id in (1,2,3,4,5,...)
</div></code></pre>
<p>With this information... you can apply some clever writing techniques to get better troubleshooting, and provide a good user experience.</p>
<p>You should be able to Magic Bang any <code>ID</code> parameter since the user can't type in the record number and are required to select it from a menu. Just remember to use <code>like</code> for when they don't select anything.</p>
<pre class="hljs"><code><div><span class="hljs-comment">-- gets a number wrapped in '' or '%'</span>
location.id like '$P!{locationID}'
qbClass.id like '$P!{qbClassID}'
customer.id like '$P!{customerID}'
vendor.id like '$P!{vendorID}'
...
</div></code></pre>
<p>There are lots of other parameters you can use the Magic Bang with. Until one of us figures out a way to handle the Magic Bang'd Date Parameters, still use those in normal mode.</p>
<pre class="hljs"><code><div>if($P!{Boolean}, true, false) <span class="hljs-comment">-- becomes if(true, true, false) or if(false, true, false)</span>
so.statusId in ($P!{ckEstimate}, $P!{ckIssued}...) <span class="hljs-comment">-- becomes so.statusId in (10, 20, ...)</span>
</div></code></pre>
<h3 id="12-fishbowl-major-versions">1.2. Fishbowl Major Versions</h3>
<p><em><a href="#">Back to Top (HTML)</a></em></p>
<p><em><a href="#Table-of-Contents-%3C!---omit-in-toc---%3E">Back to Top (VS Code)</a></em></p>
<ul>
<li>2015.9
<ul>
<li>Successfully compiles Customer Price List</li>
</ul>
</li>
<li>2016.14
<ul>
<li>Last version to use Firebird</li>
</ul>
</li>
<li>2019.7
<ul>
<li>old customer facing report designs</li>
</ul>
</li>
<li>2020.3
<ul>
<li>pre-custom field redesign</li>
</ul>
</li>
</ul>
<h3 id="13-ireport-uom-conversion">1.3. iReport UOM Conversion</h3>
<p><em><a href="#">Back to Top (HTML)</a></em></p>
<p><em><a href="#Table-of-Contents-%3C!---omit-in-toc---%3E">Back to Top (VS Code)</a></em></p>
<p>iReport uses points as its unit of measure.</p>
<p>72 points = 1 inch</p>
<h3 id="14-common-data-type-conversions-after-reading-fields-in-ireport">1.4. Common Data Type Conversions after reading fields in iReport</h3>
<p><em><a href="#">Back to Top (HTML)</a></em></p>
<p><em><a href="#Table-of-Contents-%3C!---omit-in-toc---%3E">Back to Top (VS Code)</a></em></p>
<ul>
<li>bigDecimal -&gt; Double</li>
<li>long -&gt; int</li>
<li>boolean -&gt; int</li>
</ul>
<h3 id="15-firebird-vs-mysql">1.5. Firebird vs MySQL</h3>
<p><em><a href="#">Back to Top (HTML)</a></em></p>
<p><em><a href="#Table-of-Contents-%3C!---omit-in-toc---%3E">Back to Top (VS Code)</a></em></p>
<table>
<thead>
<tr>
<th>Topic</th>
<th>Firebird</th>
<th>MySQL</th>
</tr>
</thead>
<tbody>
<tr>
<td>aggregate functions</td>
<td>no alias needed</td>
<td>alias needed</td>
</tr>
<tr>
<td>concatenation</td>
<td><code>x |  | y |  | z</code></td>
<td><code>CONCAT(x, y, z)</code></td>
</tr>
<tr>
<td>first/limit</td>
<td><code>FIRST int</code> after select</td>
<td><code>LIMIT int</code> after <code>ORDRER BY</code></td>
</tr>
<tr>
<td>skip/offset</td>
<td><code>SKIP int</code> after select</td>
<td><code>OFFSET int</code> after <code>ORDER BY</code></td>
</tr>
<tr>
<td>comma separated lists</td>
<td><code>LIST(x, y, z)</code></td>
<td><code>GROUP_CONCAT([DISTINCT] table.col, table.col, table.col, ... [ORDER BY][table.col], [table.col], [table.col],... SEPARATOR '[separator]')</code></td>
</tr>
<tr>
<td>dates</td>
<td><code>2019/12/25</code></td>
<td><code>2019-12-25</code></td>
</tr>
<tr>
<td>&quot;today&quot;</td>
<td><code>DATE NOW</code></td>
<td><code>CURRENT_DATE</code> or <code>NOW()</code></td>
</tr>
</tbody>
</table>
<h3 id="16-custom-fonts">1.6. Custom Fonts</h3>
<p><em><a href="#">Back to Top (HTML)</a></em></p>
<p><em><a href="#Table-of-Contents-%3C!---omit-in-toc---%3E">Back to Top (VS Code)</a></em></p>
<p>You need to follow these steps to get Custom Fonts and Unicode characters to work on Reports.</p>
<ol>
<li>Close iReport and run as Administrator</li>
<li>Download a .ttf of the font</li>
<li>Tools &gt; Options &gt; Fonts</li>
<li>Browse to .ttf file you downloaded</li>
<li>Set up Family Details. Depending on the Language text, you may need to adjust the PDF Details</li>
<li>Finish</li>
<li>Tools &gt; Options &gt; Fonts</li>
<li>Select new font in upper section.</li>
<li>Export as Extension.</li>
<li>Give it a useful <code>name.jar</code></li>
<li><code>name.jar</code> needs to live in <code>../Fishbowl/server/lib</code> and <code>../Fishbowl/lib</code> in every Fishbowl Client that needs to use the report.</li>
<li>Exit the server. Restart.</li>
<li>Enjoy.</li>
</ol>
<p>You may encounter issues sending the <code>name.jar</code> to customers as most Email servers don't like <code>.jar</code> files.</p>
<hr>
<h2 id="2-java-helpers">2. Java Helpers</h2>
<h3 id="21-company-address">2.1. Company Address</h3>
<p><em><a href="#">Back to Top (HTML)</a></em></p>
<p><em><a href="#Table-of-Contents-%3C!---omit-in-toc---%3E">Back to Top (VS Code)</a></em></p>
<p>Will look for addresses per location group in this order. Defaults are prioritized where applicable:</p>
<ol>
<li>main</li>
<li>bill to</li>
<li>ship to</li>
<li>home</li>
<li>remit to</li>
</ol>
<pre class="hljs"><code><div>((com.evnt.eve.modules.ReportHelperModule) $P{<span class="hljs-keyword">module</span>}).getCompanyReportAddress($F{locationGroupID}, $P{ShowCountry})
</div></code></pre>
<h3 id="22-general-image">2.2. General Image</h3>
<p><em><a href="#">Back to Top (HTML)</a></em></p>
<p><em><a href="#Table-of-Contents-%3C!---omit-in-toc---%3E">Back to Top (VS Code)</a></em></p>
<pre class="hljs"><code><div>com.evnt.util.ImageUtil.decodeImage(((com.evnt.eve.modules.ReportHelperModule) $P{<span class="hljs-keyword">module</span>}).getImageData(<span class="hljs-string">"tableName"</span>, $F{tableRecordID}, <span class="hljs-keyword">true</span>))
</div></code></pre>
<h3 id="23-company-logo">2.3. Company Logo</h3>
<p><em><a href="#">Back to Top (HTML)</a></em></p>
<p><em><a href="#Table-of-Contents-%3C!---omit-in-toc---%3E">Back to Top (VS Code)</a></em></p>
<pre class="hljs"><code><div>com.evnt.util.ImageUtil.decodeImage(((com.evnt.eve.modules.ReportHelperModule) $P{<span class="hljs-keyword">module</span>}).getImageData(<span class="hljs-string">"Company"</span>, <span class="hljs-number">1</span>, <span class="hljs-keyword">true</span>))
</div></code></pre>
<h3 id="24-ship-signature">2.4. Ship Signature</h3>
<p><em><a href="#">Back to Top (HTML)</a></em></p>
<p><em><a href="#Table-of-Contents-%3C!---omit-in-toc---%3E">Back to Top (VS Code)</a></em></p>
<pre class="hljs"><code><div>com.evnt.util.ImageUtil.decodeImage(((com.evnt.eve.modules.ReportHelperModule) $P{<span class="hljs-keyword">module</span>}).getImageData(<span class="hljs-string">"Ship"</span>, $F{shipID}, <span class="hljs-keyword">true</span>))
</div></code></pre>
<h3 id="25-shipitem-tracking">2.5. ShipItem Tracking</h3>
<p><em><a href="#">Back to Top (HTML)</a></em></p>
<p><em><a href="#Table-of-Contents-%3C!---omit-in-toc---%3E">Back to Top (VS Code)</a></em></p>
<pre class="hljs"><code><div>((com.evnt.eve.modules.ReportHelperModule) $P{<span class="hljs-keyword">module</span>}).getAllShipItemTrackingInfo(<span class="hljs-string">"ShipItem"</span>, $F{shipItemID})
</div></code></pre>
<h3 id="26-general-item-tracking">2.6. General Item Tracking</h3>
<p><em><a href="#">Back to Top (HTML)</a></em></p>
<p><em><a href="#Table-of-Contents-%3C!---omit-in-toc---%3E">Back to Top (VS Code)</a></em></p>
<pre class="hljs"><code><div>((com.evnt.eve.modules.ReportHelperModule) $P{<span class="hljs-keyword">module</span>}).getAllTrackingInfo(<span class="hljs-string">"tableName"</span>, $F{tableRecordID})
</div></code></pre>
<h3 id="27-pickitem-status-icons">2.7. PickItem Status Icons</h3>
<p><em><a href="#">Back to Top (HTML)</a></em></p>
<p><em><a href="#Table-of-Contents-%3C!---omit-in-toc---%3E">Back to Top (VS Code)</a></em></p>
<pre class="hljs"><code><div>((com.evnt.eve.modules.ReportHelperModule) $P{<span class="hljs-keyword">module</span>}).getStatusIconURL($F{pickItemStatusID})
</div></code></pre>
<h3 id="28-default-report-header-for-date-range">2.8. Default Report Header for Date Range</h3>
<p><em><a href="#">Back to Top (HTML)</a></em></p>
<p><em><a href="#Table-of-Contents-%3C!---omit-in-toc---%3E">Back to Top (VS Code)</a></em></p>
<pre class="hljs"><code><div><span class="hljs-string">"Date Range: "</span> + ($P{dateRange1}.getYear() &lt;= -<span class="hljs-number">900</span> &amp;&amp; $P{dateRange2}.getYear() &gt;= <span class="hljs-number">1100</span> ? <span class="hljs-string">"All"</span> : <span class="hljs-keyword">new</span> SimpleDateFormat($V{DateFormat}).format($P{dateRange1}) + <span class="hljs-string">" - "</span> + <span class="hljs-keyword">new</span> SimpleDateFormat($V{DateFormat}).format($P{dateRange2}.getTime() - <span class="hljs-number">86400000</span>))
</div></code></pre>
<h3 id="29-minus-1-day">2.9. Minus 1 day</h3>
<p><em><a href="#">Back to Top (HTML)</a></em></p>
<p><em><a href="#Table-of-Contents-%3C!---omit-in-toc---%3E">Back to Top (VS Code)</a></em></p>
<pre class="hljs"><code><div>.getTime()-<span class="hljs-number">86400000</span>
</div></code></pre>
<h3 id="210-show-tooltips">2.10. Show Tooltips</h3>
<p><em><a href="#">Back to Top (HTML)</a></em></p>
<p><em><a href="#Table-of-Contents-%3C!---omit-in-toc---%3E">Back to Top (VS Code)</a></em></p>
<pre class="hljs"><code><div>$P{ShowTooltips} ? <span class="hljs-string">"Tooltip"</span> : <span class="hljs-keyword">null</span>
</div></code></pre>
<h3 id="211-get-all-custom-fields">2.11. Get All Custom fields</h3>
<p><em><a href="#">Back to Top (HTML)</a></em></p>
<p><em><a href="#Table-of-Contents-%3C!---omit-in-toc---%3E">Back to Top (VS Code)</a></em></p>
<pre class="hljs"><code><div>((com.evnt.eve.modules.ReportHelperModule) $P{<span class="hljs-keyword">module</span>}).getAllCustomFieldInfo(<span class="hljs-string">"Module"</span>, $F{tableRecordID}, $P{ShowBlankFields})
</div></code></pre>
<hr>
<h2 id="3-xml-copypaste">3. XML Copy/Paste</h2>
<h3 id="31-corrupted-xml">3.1. Corrupted XML</h3>
<p>One of the most frustrating things is when a report's XML gets corrupted because the error messages take a little bit of experience to decipher.</p>
<p><strong><em>THIS HAPPENS MOST OFTEN WHEN YOU DELETE THE DETAIL CELLS OF TABLE ELEMENTS. DO NOT DELETE THEM. INSTEAD, SET THEIR HEIGHTS TO 0.</em></strong></p>
<p>Make sure you have at one of these under each <code>&lt;jr:column&gt;</code> tag under each <code>&lt;jr:table&gt;</code> tag.</p>
<p>This is the minimum required amount for the table detail cell.</p>
<pre class="hljs"><code><div><span class="hljs-tag">&lt;<span class="hljs-name">jr:detailCell</span> <span class="hljs-attr">height</span>=<span class="hljs-string">"0"</span> <span class="hljs-attr">rowSpan</span>=<span class="hljs-string">"1"</span>&gt;</span><span class="hljs-tag">&lt;/<span class="hljs-name">jr:detailCell</span>&gt;</span>
</div></code></pre>
<h3 id="32-about-the-rest-of-the-xml-copypaste-section">3.2. About the rest of the XML Copy/Paste Section</h3>
<p><em><a href="#">Back to Top (HTML)</a></em></p>
<p><em><a href="#Table-of-Contents-%3C!---omit-in-toc---%3E">Back to Top (VS Code)</a></em></p>
<p>Each of the following sections will have a bit of SQL and XML.</p>
<p>The SQL snippet shows an example of how you'd use it in a Query.</p>
<p>The XML snippet (you may need to customize it) goes under the <code>&lt;jasperReport&gt;</code> tag for the main dataset and under and <code>&lt;subDataset&gt;</code> tag for a sub dataset that needs it. If you're concerned about where it goes, just create a new parameter manually and paste the XML snippet underneath it.</p>
<p>Some sections will have a Query you can paste in the Data Module that will help you generate the SQL code and the XML Code.</p>
<h3 id="33-order-numbers">3.3. Order Numbers</h3>
<p><em><a href="#">Back to Top (HTML)</a></em></p>
<p><em><a href="#Table-of-Contents-%3C!---omit-in-toc---%3E">Back to Top (VS Code)</a></em></p>
<p>This parameter works a little different than the others. It will replace a comma separated string with a comma separated array. It also requires input before the query runs.</p>
<h4 id="331-order-numbers---required">3.3.1. Order Numbers - Required</h4>
<p>If the user supplies <code>123,124,125</code> in the parameter, the following will apply.</p>
<pre class="hljs"><code><div>so.num in ($P!{orderNumbers})
<span class="hljs-comment">-- becomes</span>
so.num in ('123','124','125')
</div></code></pre>
<pre class="hljs"><code><div><span class="hljs-tag">&lt;<span class="hljs-name">parameter</span> <span class="hljs-attr">name</span>=<span class="hljs-string">"orderNumbers"</span> <span class="hljs-attr">class</span>=<span class="hljs-string">"java.lang.String"</span> <span class="hljs-attr">isForPrompting</span>=<span class="hljs-string">"true"</span>&gt;</span>
   <span class="hljs-tag">&lt;<span class="hljs-name">defaultValueExpression</span>&gt;</span>&lt;![CDATA[]]&gt;<span class="hljs-tag">&lt;/<span class="hljs-name">defaultValueExpression</span>&gt;</span>
<span class="hljs-tag">&lt;/<span class="hljs-name">parameter</span>&gt;</span>
</div></code></pre>
<h4 id="332-order-numbers---optional">3.3.2. Order Numbers - Optional</h4>
<p>It is possible to use it as an optional parameter, but users need to know 3 things.</p>
<ul>
<li>Running for all results, requires the text <code>All</code> (or something you can compare; <strong>NOT</strong> <code>%</code>) in the Modify Report Window</li>
<li>Special Characters need to be escaped</li>
<li>Entries must be separated by a comma, not a comma and space. <code>123, 124, 125</code> becomes <code>'123',' 124',' 125'</code> and doesn't work as expected</li>
</ul>
<p>If the user supplies <code>B201,B202,B203</code> in the parameter, the following will apply.</p>
<pre class="hljs"><code><div>if($P{orderNumbersPartNumbers} = "'All'", 1 = 1, part.num in ($P!{orderNumbersPartNumbers}))
<span class="hljs-comment">-- becomes</span>
if(? = "'All'", 1 = 1, part.num in ('B201','B202','B203'))

<span class="hljs-comment">-- ? = "'B201','B202','B203'" from MySQL's perspective because we used the normal mode.</span>
</div></code></pre>
<p>If the user supplies <code>All</code> in the parameter, the following will apply.</p>
<pre class="hljs"><code><div>if($P{orderNumbersPartNumbers} = "'All'", 1 = 1, part.num in ($P!{orderNumbersPartNumbers}))
<span class="hljs-comment">-- becomes</span>
if(? = "'All'", 1 = 1, part.num in ('All'))

<span class="hljs-comment">-- ? = 'All' from MySQL's perspective because we used the normal mode.</span>
</div></code></pre>
<pre class="hljs"><code><div><span class="hljs-tag">&lt;<span class="hljs-name">parameter</span> <span class="hljs-attr">name</span>=<span class="hljs-string">"orderNumbersPartNumbers"</span> <span class="hljs-attr">class</span>=<span class="hljs-string">"java.lang.String"</span> <span class="hljs-attr">isForPrompting</span>=<span class="hljs-string">"false"</span>&gt;</span>
   <span class="hljs-tag">&lt;<span class="hljs-name">defaultValueExpression</span>&gt;</span>&lt;![CDATA["All"]]&gt;<span class="hljs-tag">&lt;/<span class="hljs-name">defaultValueExpression</span>&gt;</span>
<span class="hljs-tag">&lt;/<span class="hljs-name">parameter</span>&gt;</span>
</div></code></pre>
<h3 id="34-parameters">3.4. Parameters</h3>
<p><em><a href="#">Back to Top (HTML)</a></em></p>
<p><em><a href="#Table-of-Contents-%3C!---omit-in-toc---%3E">Back to Top (VS Code)</a></em></p>
<p>The <a href="https://www.fishbowlinventory.com/wiki/IReport#Using_iReport_for_custom_reports">Fishbowl Wiki</a> has a lot of useful information, but here is a similar table based on the one in the Fishbowl Parameters Section with the good stuff.</p>
<p>You'll notice that some parameters use the 'Magic Bang!' while others do not. It's wise to avoid the 'Magic Bang!' when the customer can type in the final output.</p>
<p>'Empty' String type parameters return <code>%</code> unless stated otherwise.</p>
<h4 id="341-a-note-on-syntax">3.4.1. A Note on Syntax</h4>
<table>
<thead>
<tr>
<th>Syntax</th>
<th>Example</th>
<th>Output in Fishbowl</th>
<th>Explanation</th>
</tr>
</thead>
<tbody>
<tr>
<td><code>[]</code></td>
<td><code>accountID[Title]</code></td>
<td><code>[Title]</code></td>
<td>The <code>[]</code> denote that a name is optional.<br/><em>All SQL and XML snippets will use the default name since that's what you'll encounter most often</em></td>
</tr>
<tr>
<td><code>{}</code></td>
<td><code>{BooleanName}</code> or <code>{Boolean Name}</code></td>
<td><code>Boolean Name</code></td>
<td>You can create Boolean, Date, Double, Integer, and String parameters by setting their java language class and giving them a name. You don't need the <code>{}</code></td>
</tr>
</tbody>
</table>
<br/>
<table>
<thead>
<tr>
<th>Parameter</th>
<th>Example SQL</th>
<th>Minimum XML</th>
<th>Return Type</th>
<th>About</th>
</tr>
</thead>
<tbody>
<tr>
<td><code>currentUser</code></td>
<td><code>and sysUser.id = $P!{currentUser}</code></td>
<td><code>&lt;parameter name=&quot;currentUser&quot; class=&quot;java.lang.String&quot; isForPrompting=&quot;false&quot;/&gt;</code></td>
<td>Integer</td>
<td>Used to automatically populate the user ID for the person running the report.</td>
</tr>
<tr>
<td><code>accountID[Title]</code></td>
<td><code>and asAccount.id like '$P!{accountID}'</code></td>
<td><code>&lt;parameter name=&quot;accountID&quot; class=&quot;java.lang.String&quot; isForPrompting=&quot;false&quot;&gt;&lt;/parameter&gt;</code></td>
<td>Integer</td>
<td>Provides a combo box for accounts</td>
</tr>
<tr>
<td><code>{Boolean Name}</code></td>
<td><code>and if($P!{ShowPartsWithZeroInventory}, 1 = 1, qtyInventoryTotals.qtyOnHand &gt; 0)</code></td>
<td><code>&lt;parameter name=&quot;Boolean&quot; class=&quot;java.lang.Boolean&quot; isForPrompting=&quot;false&quot;/&gt;</code></td>
<td>Boolean</td>
<td>Displays a simple Check Box with the Parameter Name.</td>
</tr>
<tr>
<td><code>carrier</code></td>
<td><code>and carrier.name like $P{carrier}</code></td>
<td><code>&lt;parameter name=&quot;carrier&quot; class=&quot;java.lang.String&quot; isForPrompting=&quot;false&quot;/&gt;</code></td>
<td>String</td>
<td>Provides a combo box for carriers.</td>
</tr>
<tr>
<td><code>cb[Title]</code></td>
<td><code>group by $P!{cbGroupBy}</code></td>
<td><code>&lt;parameter name=&quot;cbGroupBy&quot; class=&quot;java.lang.String&quot; isForPrompting=&quot;false&quot;&gt;</code><br/><code>&lt;parameterDescription&gt;&lt;![CDATA[part.num,Part Num,locationGroup.name,Location Group]]&gt;&lt;/parameterDescription&gt;</code><br/><code>&lt;defaultValueExpression&gt;&lt;![CDATA[&quot;part.num&quot;]]&gt;&lt;/defaultValueExpression&gt;</code><br/><code>&lt;/parameter&gt;</code></td>
<td>String</td>
<td>Allows a list of items to be displayed in a combo box. 2 values are required for each item. The first value is returned to the report, the second is displayed in the combo box. This allows a readable value to be displayed while a more useful value is passed to the report.</td>
</tr>
<tr>
<td><code>ck[Title]</code></td>
<td><code>and so.statusId in ($P!{ckEntered})</code></td>
<td><code>&lt;parameter name=&quot;ckEntered&quot; class=&quot;java.lang.String&quot; isForPrompting=&quot;false&quot;&gt;</code><br/><code>&lt;parameterDescription&gt;&lt;![CDATA[10,0]]&gt;&lt;/parameterDescription&gt;</code><br/><code>&lt;defaultValueExpression&gt;&lt;![CDATA[&quot;10&quot;]]&gt;&lt;/defaultValueExpression&gt;</code><br/><code>&lt;/parameter&gt;</code></td>
<td>String</td>
<td>Allows a check box to be displayed and return one of the two items in the Parameter Description. The first value is the checked value.</td>
</tr>
<tr>
<td><code>bomNum[Title]</code></td>
<td><code>and bom.num like $P{bomNum}</code></td>
<td><code>&lt;parameter name=&quot;bomNum&quot; class=&quot;java.lang.String&quot; isForPrompting=&quot;false&quot;/&gt;</code></td>
<td>String</td>
<td>Provides a combo box and search option for BOM Numbers</td>
</tr>
<tr>
<td><code>customerID[Title]</code></td>
<td><code>and customer.id like '$P!{customerID}'</code></td>
<td><code>&lt;parameter name=&quot;customerID&quot; class=&quot;java.lang.String&quot; isForPrompting=&quot;false&quot;/&gt;</code></td>
<td>String</td>
<td>Provides a combo box and search option for Customers.</td>
</tr>
<tr>
<td><code>customerGroupID[Title]</code></td>
<td><code>and coalesce(accountGroup.id, 0) in ($P!{customerGroupID})</code></td>
<td><code>&lt;parameter name=&quot;customerGroupID&quot; class=&quot;java.lang.String&quot; isForPrompting=&quot;false&quot;/&gt;</code></td>
<td>List</td>
<td>Provides a combo box for Customer Groups. Returns a list of valid Customer Group IDs or the selected Customer Group ID. 0 is included in the list when no Customer Group is selected.</td>
</tr>
<tr>
<td><code>{Date Name}</code></td>
<td><code>and inventoryLog.eventDate &lt;= date_sub($P{ReportDate}, interval 1 second)</code></td>
<td><code>&lt;parameter name=&quot;ReportDate&quot; class=&quot;java.util.Date&quot; isForPrompting=&quot;false&quot;&gt;</code><br/><code>&lt;defaultValueExpression&gt;&lt;![CDATA[new Date()]]&gt;&lt;/defaultValueExpression&gt;</code><br/><code>&lt;/parameter&gt;</code></td>
<td>Date</td>
<td>Displays a date selector. Also provides a button to a calendar display.<br/>The returned date value is midnight the day after the selected date.<br/>Selecting Feb 3, 2020 returns Feb 4, 2020 00:00:00</td>
</tr>
<tr>
<td><code>dateRange1[Title]</code><br/><code>dateRange2[Title]</code></td>
<td><code>and $P!{cbApplyDateFilter} between $P{dateRange1} and date_sub($P{dateRange2}, interval 1 second)</code></td>
<td><code>&lt;parameter name=&quot;dateRange1&quot; class=&quot;java.util.Date&quot; isForPrompting=&quot;false&quot;&gt;</code><br/><code>&lt;parameterDescription&gt;&lt;![CDATA[This Month]]&gt;&lt;/parameterDescription&gt;</code><br/><code>&lt;defaultValueExpression&gt;&lt;![CDATA[new Date()]]&gt;&lt;/defaultValueExpression&gt;</code><br/><code>&lt;/parameter&gt;</code><br/><code>&lt;parameter name=&quot;dateRange2&quot; class=&quot;java.util.Date&quot; isForPrompting=&quot;false&quot;&gt;</code><br/><code>&lt;defaultValueExpression&gt;&lt;![CDATA[new Date()]]&gt;&lt;/defaultValueExpression&gt;</code><br/><code>&lt;/parameter&gt;</code></td>
<td>Date</td>
<td>Populates 2 date parameters together to provide a date range.<br/>Gives a combo box of common date range choices like Today, This Week, Last Year, etc.<br/>Use the same <code>[Title]</code> for <code>dateRange2</code>. <code>dateRange2</code> acts like the Date parameter in its return value</td>
</tr>
<tr>
<td><code>kitNum[Title]</code></td>
<td><code>and kit.num like $P{kitNum}</code></td>
<td><code>&lt;parameter name=&quot;kitNum&quot; class=&quot;java.lang.String&quot; isForPrompting=&quot;false&quot;/&gt;</code></td>
<td>String</td>
<td>Provides a combo box for Kits.</td>
</tr>
<tr>
<td><code>locationGroupID[Title]</code></td>
<td><code>and locationGroup.id in ($P!{locationGroupID})</code></td>
<td><code>&lt;parameter name=&quot;locationGroupID&quot; class=&quot;java.lang.String&quot; isForPrompting=&quot;false&quot;/&gt;</code></td>
<td>List</td>
<td>Provides a combo box for Location Groups. Returns a list of valid Location Group IDs or the selected Location Group ID</td>
</tr>
<tr>
<td><code>locationID[Title]</code></td>
<td><code>and location.id like '$P!{locationID}'</code></td>
<td><code>&lt;parameter name=&quot;locationID&quot; class=&quot;java.lang.String&quot; isForPrompting=&quot;false&quot;/&gt;</code></td>
<td>Integer</td>
<td>Provides a combo box for Locations</td>
</tr>
<tr>
<td><code>moNum[Title]</code></td>
<td><code>and mo.num like $P{moNum}</code></td>
<td><code>&lt;parameter name=&quot;moNum&quot; class=&quot;java.lang.String&quot; isForPrompting=&quot;false&quot;/&gt;</code></td>
<td>String</td>
<td>Provides a search option for Manufacture Orders</td>
</tr>
<tr>
<td><code>partNum[Title]</code></td>
<td><code>and part.num like $P{partNum}</code></td>
<td><code>&lt;parameter name=&quot;partNum&quot; class=&quot;java.lang.String&quot; isForPrompting=&quot;false&quot;/&gt;</code></td>
<td>String</td>
<td>Provides a combo box and search option for Parts</td>
</tr>
<tr>
<td><code>paymentMethod[Title]</code></td>
<td><code>and paymentMethod.name like $P{paymentMethod}</code></td>
<td><code>&lt;parameter name=&quot;paymentMethod&quot; class=&quot;java.lang.String&quot; isForPrompting=&quot;false&quot;/&gt;</code></td>
<td>String</td>
<td>Provides a combo box for Payment Methods</td>
</tr>
<tr>
<td><code>pickNum[Title]</code></td>
<td><code>and pick.num like $P{pickNum}</code></td>
<td><code>&lt;parameter name=&quot;pickNum&quot; class=&quot;java.lang.String&quot; isForPrompting=&quot;false&quot;/&gt;</code></td>
<td>String</td>
<td>Provides a search option for Picks.</td>
</tr>
<tr>
<td><code>poNum[Title]</code></td>
<td><code>and po.num like $P{poNum}</code></td>
<td><code>&lt;parameter name=&quot;poNum&quot; class=&quot;java.lang.String&quot; isForPrompting=&quot;false&quot;/&gt;</code></td>
<td>String</td>
<td>Provides a search option for Purchase Orders.</td>
</tr>
<tr>
<td><code>productNum[Title]</code></td>
<td><code>and product.num like $P{productNum}</code></td>
<td><code>&lt;parameter name=&quot;productNum&quot; class=&quot;java.lang.String&quot; isForPrompting=&quot;false&quot;/&gt;</code></td>
<td>String</td>
<td>Provides a combo box and search option for Products.</td>
</tr>
<tr>
<td><code>productTree1[Title]</code><br/><code>productTree2[Title]</code></td>
<td><code>and (coalesce(productTree.id, 0) in ($P!{productTree1}) or coalesce(productTree.id, 0) like '$P!{productTree2}')</code></td>
<td><code>&lt;parameter name=&quot;productTree1&quot; class=&quot;java.lang.String&quot; isForPrompting=&quot;false&quot;/&gt;</code><br/><code>&lt;parameter name=&quot;productTree2&quot; class=&quot;java.lang.String&quot; isForPrompting=&quot;false&quot;/&gt;</code></td>
<td>List<br/>String</td>
<td><code>productTree1</code> provides a Product Tree that users can select a node to filter by. Returns a list all active product tree IDs or a list with the ID of the selected node, plus the IDs of its children categories.<br/><br/> <code>productTree2</code> Does nothing by itself. When coupled with <code>productTree1</code>, it will allow users to view products that are not in the product tree. It returns <code>%</code> or the selected node ID.</td>
</tr>
<tr>
<td><code>qbClassID[Title]</code></td>
<td><code>and qbClass.id like '$P!{qbClassID}'</code></td>
<td><code>&lt;parameter name=&quot;qbClassID&quot; class=&quot;java.lang.String&quot; isForPrompting=&quot;false&quot;/&gt;</code></td>
<td>Integer</td>
<td>Provides a combo box for Quick Books Classes.</td>
</tr>
<tr>
<td><code>receiptID[Title]</code></td>
<td><code>and receipt.id like '$P!{receiptID}'</code></td>
<td><code>&lt;parameter name=&quot;receiptID&quot; class=&quot;java.lang.String&quot; isForPrompting=&quot;false&quot;/&gt;</code></td>
<td>Integer</td>
<td>Provides a search option for Receipts.</td>
</tr>
<tr>
<td><code>rmaNum[Title]</code></td>
<td><code>and rma.num like $P{rmaNum}</code></td>
<td><code>&lt;parameter name=&quot;rmaNum&quot; class=&quot;java.lang.String&quot; isForPrompting=&quot;false&quot;/&gt;</code></td>
<td>String</td>
<td>Provides a search option for RMAs.</td>
</tr>
<tr>
<td><code>salesPerson[Title]</code></td>
<td><code>and so.salesman like $P{salesPerson}</code></td>
<td><code>&lt;parameter name=&quot;salesPerson&quot; class=&quot;java.lang.String&quot; isForPrompting=&quot;false&quot;/&gt;</code></td>
<td>String</td>
<td>Provides a combo box of Sales Persons</td>
</tr>
<tr>
<td><code>shipID[Title]</code></td>
<td><code>and ship.id like '$P!{shipID}'</code></td>
<td><code>&lt;parameter name=&quot;shipID&quot; class=&quot;java.lang.String&quot; isForPrompting=&quot;false&quot;/&gt;</code></td>
<td>Integer</td>
<td>Provides a search option for Shipments.</td>
</tr>
<tr>
<td><code>soNum[Title]</code></td>
<td><code>and so.num like $P{soNum}</code></td>
<td><code>&lt;parameter name=&quot;soNum&quot; class=&quot;java.lang.String&quot; isForPrompting=&quot;false&quot;/&gt;</code></td>
<td>String</td>
<td>Provides a search option for Sales Orders.</td>
</tr>
<tr>
<td><code>toNum[Title]</code></td>
<td><code>and xo.num like $P{toNum}</code></td>
<td><code>&lt;parameter name=&quot;toNum&quot; class=&quot;java.lang.String&quot; isForPrompting=&quot;false&quot;/&gt;</code></td>
<td>String</td>
<td>Provides a search option for Transfer Orders.</td>
</tr>
<tr>
<td><code>vendorID[Title]</code></td>
<td><code>and vendor.id like '$P!{vendorID}'</code></td>
<td><code>&lt;parameter name=&quot;vendorID&quot; class=&quot;java.lang.String&quot; isForPrompting=&quot;false&quot;/&gt;</code></td>
<td>Integer</td>
<td>Provides a combo box and search option for Vendors.</td>
</tr>
<tr>
<td><code>woNum[Title]</code></td>
<td><code>and wo.num like $P{woNum}</code></td>
<td><code>&lt;parameter name=&quot;woNum&quot; class=&quot;java.lang.String&quot; isForPrompting=&quot;false&quot;/&gt;</code></td>
<td>String</td>
<td>Provides a Search Option for Work Orders.</td>
</tr>
<tr>
<td><code>colName</code></td>
<td>N/A. But in theory it works the same as a Boolean</td>
<td><code>&lt;parameter name=&quot;colName&quot; class=&quot;java.lang.Boolean&quot; isForPrompting=&quot;false&quot;/&gt;</code></td>
<td>Boolean</td>
<td>Adds the Columns tab to the Modify Report window and a check box for <code>Name</code> in the Columns tab.</td>
</tr>
</tbody>
</table>
<h4 id="342-useful-custom-parameters">3.4.2. Useful Custom Parameters</h4>
<table>
<thead>
<tr>
<th>Parameter</th>
<th>SQL</th>
<th>XML</th>
</tr>
</thead>
<tbody>
<tr>
<td><code>cbSortBy</code><br/><code>cbSortDirection</code></td>
<td><code>order by $P!{cbSortBy} $P!{cbSortDirection}, table.column</code></td>
<td><code>&lt;parameter name=&quot;cbSortBy&quot; class=&quot;java.lang.String&quot; isForPrompting=&quot;false&quot;&gt;</code><br/><code>&lt;parameterDescription&gt;&lt;![CDATA[part.num,Part Number,locationGroup.name,Location Group]]&gt;&lt;/parameterDescription&gt;</code><br/><code>&lt;defaultValueExpression&gt;&lt;![CDATA[&quot;1&quot;]]&gt;&lt;/defaultValueExpression&gt;</code><br/><code>&lt;/parameter&gt;</code><br/><code>&lt;parameter name=&quot;cbSortDirection&quot; class=&quot;java.lang.String&quot; isForPrompting=&quot;false&quot;&gt;</code><br/><code>&lt;parameterDescription&gt;&lt;![CDATA[ASC,Ascending,DESC,Descending]]&gt;&lt;/parameterDescription&gt;</code><br/><code>&lt;defaultValueExpression&gt;&lt;![CDATA[&quot;ASC&quot;]]&gt;&lt;/defaultValueExpression&gt;</code><br/><code>&lt;/parameter&gt;</code></td>
</tr>
<tr>
<td><code>cbState/Province</code></td>
<td><code>and coalesce(shipState.name, '-1') like '$P!{cbState/Province}'</code></td>
<td><code>&lt;parameter name=&quot;cbState/Province&quot; class=&quot;java.lang.String&quot; isForPrompting=&quot;false&quot;&gt;</code><br/><code>&lt;parameterDescription&gt;&lt;![CDATA[%,All,-1,None,Alabama,Alabama,Alberta,Alberta,Alaska,Alaska,Arizona,Arizona,Arkansas,Arkansas,Australian Capital Territory,Australian Capital Territory,British Columbia,British Columbia,California,California,Colorado,Colorado,Connecticut,Connecticut,Delaware,Delaware,District of Columbia,District of Columbia,Florida,Florida,Georgia,Georgia,Hawaii,Hawaii,Idaho,Idaho,Illinois,Illinois,Indiana,Indiana,Iowa,Iowa,Kansas,Kansas,Kentucky,Kentucky,Louisiana,Louisiana,Maine,Maine,Manitoba,Manitoba,Maryland,Maryland,Massachusetts,Massachusetts,Michigan,Michigan,Minnesota,Minnesota,Mississippi,Mississippi,Missouri,Missouri,Montana,Montana,Nebraska,Nebraska,Nevada,Nevada,Newfoundland,Newfoundland,New Brunswick,New Brunswick,New Hampshire,New Hampshire,New Jersey,New Jersey,New Mexico,New Mexico,New South Wales,New South Wales,New York,New York,North Carolina,North Carolina,North Dakota,North Dakota,Northern Territory,Northern Territory,Northwest Territories,Northwest Territories,Nova Scotia,Nova Scotia,Nunavut,Nunavut,Ohio,Ohio,Oklahoma,Oklahoma,Ontario,Ontario,Oregon,Oregon,Pennsylvania,Pennsylvania,Prince Edward Island,Prince Edward Island,Quebec,Quebec,Queensland,Queensland,Rhode Island,Rhode Island,Saskatchewan,Saskatchewan,South Australia,South Australia,South Carolina,South Carolina,South Dakota,South Dakota,Tasmania,Tasmania,Tennessee,Tennessee,Texas,Texas,Utah,Utah,Vermont,Vermont,Victoria,Victoria,Virginia,Virginia,Washington,Washington,West Virginia,West Virginia,Western Australia,Western Australia,Wisconsin,Wisconsin,Wyoming,Wyoming,Yukon,Yukon]]&gt;&lt;/parameterDescription&gt;</code><br/><code>&lt;defaultValueExpression&gt;&lt;![CDATA[&quot;%&quot;]]&gt;&lt;/defaultValueExpression&gt;</code><br/><code>&lt;/parameter&gt;</code></td>
</tr>
<tr>
<td><code>cbApplyDateFilter</code></td>
<td><code>and $P!{cbApplyDateFilter} between $P{dateRange1} and date_sub($P{dateRange2}, interval 1 second)</code></td>
<td><code>&lt;parameter name=&quot;cbApplyDateFilter&quot; class=&quot;java.lang.String&quot; isForPrompting=&quot;false&quot;&gt;</code><br/><code>&lt;parameterDescription&gt;&lt;![CDATA[so.dateCreated,Date Created,so.dateIssued,Date Issued]]&gt;&lt;/parameterDescription&gt;</code><br/><code>&lt;defaultValueExpression&gt;&lt;![CDATA[&quot;so.dateCreated&quot;]]&gt;&lt;/defaultValueExpression&gt;</code><br/><code>&lt;/parameter&gt;</code></td>
</tr>
</tbody>
</table>
<h3 id="35-status-check-box-generator-query">3.5. Status Check Box Generator Query</h3>
<p><em><a href="#">Back to Top (HTML)</a></em></p>
<p><em><a href="#Table-of-Contents-%3C!---omit-in-toc---%3E">Back to Top (VS Code)</a></em></p>
<p>Drop this query in the data module, run the query, and let it save you some tedious parameter creation.</p>
<p>Every table that deals with Statuses are represented, even if we don't really do much with them right now; you never know.</p>
<p><strong>Options</strong></p>
<ul>
<li>Table: Choose the Status Table to build from</li>
<li>Status IDs: Enter a comma separated list of IDs you actually want. Useful if you only want &quot;Open&quot; status for example.
<ul>
<li>LEAVE <code>'All'</code> FOR THE DEFAULT VALUE</li>
</ul>
</li>
</ul>
<pre class="hljs"><code><div><span class="hljs-keyword">select</span> <span class="hljs-string">'XML'</span> <span class="hljs-keyword">as</span> Code,
    <span class="hljs-keyword">group_concat</span>(<span class="hljs-string">'&lt;parameter name="ck$LIST{Table|CostLayerStatus,CustomerStatus,IntegratedAppStatus,IssuableStatus,MOItemStatus,MOStatus,PickItemStatus,PickStatus,POItemStatus,POStatus,PostOrderStatus,PostStatus,ReceiptItemStatus,ReceiptStatus,RMAStatus,ShipStatus,SOItemStatus,SOStatus,VendorStatus,WOStatus,XOItemStatus,XOStatus}:'</span>,
        $<span class="hljs-keyword">LIST</span>{<span class="hljs-keyword">Table</span>|CostLayerStatus,CustomerStatus,IntegratedAppStatus,IssuableStatus,MOItemStatus,MOStatus,PickItemStatus,PickStatus,POItemStatus,POStatus,PostOrderStatus,PostStatus,ReceiptItemStatus,ReceiptStatus,RMAStatus,ShipStatus,SOItemStatus,SOStatus,VendorStatus,WOStatus,XOItemStatus,XOStatus}.name,
        <span class="hljs-string">'" class="java.lang.String" isForPrompting="false"&gt;
\t&lt;parameterDescription&gt;&lt;![CDATA['</span>, $<span class="hljs-keyword">LIST</span>{<span class="hljs-keyword">Table</span>|CostLayerStatus,CustomerStatus,IntegratedAppStatus,IssuableStatus,MOItemStatus,MOStatus,PickItemStatus,PickStatus,POItemStatus,POStatus,PostOrderStatus,PostStatus,ReceiptItemStatus,ReceiptStatus,RMAStatus,ShipStatus,SOItemStatus,SOStatus,VendorStatus,WOStatus,XOItemStatus,XOStatus}.id,<span class="hljs-string">',0]]&gt;&lt;/parameterDescription&gt;
\t&lt;defaultValueExpression&gt;&lt;![CDATA["'</span>, $<span class="hljs-keyword">LIST</span>{<span class="hljs-keyword">Table</span>|CostLayerStatus,CustomerStatus,IntegratedAppStatus,IssuableStatus,MOItemStatus,MOStatus,PickItemStatus,PickStatus,POItemStatus,POStatus,PostOrderStatus,PostStatus,ReceiptItemStatus,ReceiptStatus,RMAStatus,ShipStatus,SOItemStatus,SOStatus,VendorStatus,WOStatus,XOItemStatus,XOStatus}.id,<span class="hljs-string">'"]]&gt;&lt;/defaultValueExpression&gt;
&lt;/parameter&gt;'</span> <span class="hljs-keyword">order</span> <span class="hljs-keyword">by</span> $<span class="hljs-keyword">LIST</span>{<span class="hljs-keyword">Table</span>|CostLayerStatus,CustomerStatus,IntegratedAppStatus,IssuableStatus,MOItemStatus,MOStatus,PickItemStatus,PickStatus,POItemStatus,POStatus,PostOrderStatus,PostStatus,ReceiptItemStatus,ReceiptStatus,RMAStatus,ShipStatus,SOItemStatus,SOStatus,VendorStatus,WOStatus,XOItemStatus,XOStatus}.id separator <span class="hljs-string">'\n'</span>) <span class="hljs-keyword">as</span> snippet

<span class="hljs-keyword">from</span> $<span class="hljs-keyword">LIST</span>{<span class="hljs-keyword">Table</span>|CostLayerStatus,CustomerStatus,IntegratedAppStatus,IssuableStatus,MOItemStatus,MOStatus,PickItemStatus,PickStatus,POItemStatus,POStatus,PostOrderStatus,PostStatus,ReceiptItemStatus,ReceiptStatus,RMAStatus,ShipStatus,SOItemStatus,SOStatus,VendorStatus,WOStatus,XOItemStatus,XOStatus}

<span class="hljs-keyword">where</span> <span class="hljs-keyword">if</span>(<span class="hljs-string">"$TEXT{Status_IDs|'All'}"</span> = <span class="hljs-string">"'All'"</span>, <span class="hljs-number">1</span> = <span class="hljs-number">1</span>, $<span class="hljs-keyword">LIST</span>{<span class="hljs-keyword">Table</span>|CostLayerStatus,CustomerStatus,IntegratedAppStatus,IssuableStatus,MOItemStatus,MOStatus,PickItemStatus,PickStatus,POItemStatus,POStatus,PostOrderStatus,PostStatus,ReceiptItemStatus,ReceiptStatus,RMAStatus,ShipStatus,SOItemStatus,SOStatus,VendorStatus,WOStatus,XOItemStatus,XOStatus}.id <span class="hljs-keyword">in</span> ($<span class="hljs-built_in">TEXT</span>{Status_IDs|<span class="hljs-string">'All'</span>}))

<span class="hljs-keyword">union</span> <span class="hljs-keyword">all</span>

<span class="hljs-keyword">select</span> <span class="hljs-string">'SQL'</span> <span class="hljs-keyword">as</span> Code,
    <span class="hljs-keyword">concat</span>(<span class="hljs-string">'and $LIST{Table|CostLayerStatus,CustomerStatus,IntegratedAppStatus,IssuableStatus,MOItemStatus,MOStatus,PickItemStatus,PickStatus,POItemStatus,POStatus,PostOrderStatus,PostStatus,ReceiptItemStatus,ReceiptStatus,RMAStatus,ShipStatus,SOItemStatus,SOStatus,VendorStatus,WOStatus,XOItemStatus,XOStatus}.id in ('</span>,
    <span class="hljs-keyword">group_concat</span>(<span class="hljs-string">'$P!{ck$LIST{Table|CostLayerStatus,CustomerStatus,IntegratedAppStatus,IssuableStatus,MOItemStatus,MOStatus,PickItemStatus,PickStatus,POItemStatus,POStatus,PostOrderStatus,PostStatus,ReceiptItemStatus,ReceiptStatus,RMAStatus,ShipStatus,SOItemStatus,SOStatus,VendorStatus,WOStatus,XOItemStatus,XOStatus}:'</span>,
        $<span class="hljs-keyword">LIST</span>{<span class="hljs-keyword">Table</span>|CostLayerStatus,CustomerStatus,IntegratedAppStatus,IssuableStatus,MOItemStatus,MOStatus,PickItemStatus,PickStatus,POItemStatus,POStatus,PostOrderStatus,PostStatus,ReceiptItemStatus,ReceiptStatus,RMAStatus,ShipStatus,SOItemStatus,SOStatus,VendorStatus,WOStatus,XOItemStatus,XOStatus}.name, <span class="hljs-string">'}'</span>
        <span class="hljs-keyword">order</span> <span class="hljs-keyword">by</span> $<span class="hljs-keyword">LIST</span>{<span class="hljs-keyword">Table</span>|CostLayerStatus,CustomerStatus,IntegratedAppStatus,IssuableStatus,MOItemStatus,MOStatus,PickItemStatus,PickStatus,POItemStatus,POStatus,PostOrderStatus,PostStatus,ReceiptItemStatus,ReceiptStatus,RMAStatus,ShipStatus,SOItemStatus,SOStatus,VendorStatus,WOStatus,XOItemStatus,XOStatus}.id
        separator <span class="hljs-string">', '</span>),
<span class="hljs-string">')'</span>) <span class="hljs-keyword">as</span> snippet

<span class="hljs-keyword">from</span> $<span class="hljs-keyword">LIST</span>{<span class="hljs-keyword">Table</span>|CostLayerStatus,CustomerStatus,IntegratedAppStatus,IssuableStatus,MOItemStatus,MOStatus,PickItemStatus,PickStatus,POItemStatus,POStatus,PostOrderStatus,PostStatus,ReceiptItemStatus,ReceiptStatus,RMAStatus,ShipStatus,SOItemStatus,SOStatus,VendorStatus,WOStatus,XOItemStatus,XOStatus}

<span class="hljs-keyword">where</span> <span class="hljs-keyword">if</span>(<span class="hljs-string">"$TEXT{Status_IDs|'All'}"</span> = <span class="hljs-string">"'All'"</span>, <span class="hljs-number">1</span> = <span class="hljs-number">1</span>, $<span class="hljs-keyword">LIST</span>{<span class="hljs-keyword">Table</span>|CostLayerStatus,CustomerStatus,IntegratedAppStatus,IssuableStatus,MOItemStatus,MOStatus,PickItemStatus,PickStatus,POItemStatus,POStatus,PostOrderStatus,PostStatus,ReceiptItemStatus,ReceiptStatus,RMAStatus,ShipStatus,SOItemStatus,SOStatus,VendorStatus,WOStatus,XOItemStatus,XOStatus}.id <span class="hljs-keyword">in</span> ($<span class="hljs-built_in">TEXT</span>{Status_IDs|<span class="hljs-string">'All'</span>}))

<span class="hljs-keyword">order</span> <span class="hljs-keyword">by</span> code
</div></code></pre>
<h3 id="36-type-check-box-generator-query">3.6. Type Check Box Generator Query</h3>
<p><em><a href="#">Back to Top (HTML)</a></em></p>
<p><em><a href="#Table-of-Contents-%3C!---omit-in-toc---%3E">Back to Top (VS Code)</a></em></p>
<p>Drop this query in the data module, run the query, and let it save you some tedious parameter creation.</p>
<p>Most tables that deal with Types are represented; at least the ones that we <em>may</em> be tasked with creating.</p>
<p><strong>Options</strong></p>
<ul>
<li>Table: Choose the Status Table to build from</li>
<li>Type IDs: Enter a comma separated list of IDs you actually want.
<ul>
<li>LEAVE <code>'All'</code> FOR THE DEFAULT VALUE</li>
</ul>
</li>
</ul>
<pre class="hljs"><code><div><span class="hljs-keyword">select</span> <span class="hljs-string">'XML'</span> <span class="hljs-keyword">as</span> Code,
    <span class="hljs-keyword">group_concat</span>(<span class="hljs-string">'&lt;parameter name="ck$LIST{Table|AccountType,AddressType,AsAccountType,BomAutoCreateType,BOMItemType,ContactType,CustomFieldType,InventoryLogType,KitItemType,KitType,LocationType,OrderType,PartTrackingType,PartType,PaymentTermsType,PaymentType,PickItemType,PickType,POItemType,PostType,POType,ReceiptItemType,ReceiptType,RMAItemType,SOItemType,SOType,TaxRateType,UOMType,XOItemType,XOType}:'</span>,
        $<span class="hljs-keyword">LIST</span>{<span class="hljs-keyword">Table</span>|AccountType,AddressType,AsAccountType,BomAutoCreateType,BOMItemType,ContactType,CustomFieldType,InventoryLogType,KitItemType,KitType,LocationType,OrderType,PartTrackingType,PartType,PaymentTermsType,PaymentType,PickItemType,PickType,POItemType,PostType,POType,ReceiptItemType,ReceiptType,RMAItemType,SOItemType,SOType,TaxRateType,UOMType,XOItemType,XOType}.name,
        <span class="hljs-string">'" class="java.lang.String" isForPrompting="false"&gt;
\t&lt;parameterDescription&gt;&lt;![CDATA['</span>, $<span class="hljs-keyword">LIST</span>{<span class="hljs-keyword">Table</span>|AccountType,AddressType,AsAccountType,BomAutoCreateType,BOMItemType,ContactType,CustomFieldType,InventoryLogType,KitItemType,KitType,LocationType,OrderType,PartTrackingType,PartType,PaymentTermsType,PaymentType,PickItemType,PickType,POItemType,PostType,POType,ReceiptItemType,ReceiptType,RMAItemType,SOItemType,SOType,TaxRateType,UOMType,XOItemType,XOType}.id,<span class="hljs-string">',0]]&gt;&lt;/parameterDescription&gt;
\t&lt;defaultValueExpression&gt;&lt;![CDATA["'</span>, $<span class="hljs-keyword">LIST</span>{<span class="hljs-keyword">Table</span>|AccountType,AddressType,AsAccountType,BomAutoCreateType,BOMItemType,ContactType,CustomFieldType,InventoryLogType,KitItemType,KitType,LocationType,OrderType,PartTrackingType,PartType,PaymentTermsType,PaymentType,PickItemType,PickType,POItemType,PostType,POType,ReceiptItemType,ReceiptType,RMAItemType,SOItemType,SOType,TaxRateType,UOMType,XOItemType,XOType}.id,<span class="hljs-string">'"]]&gt;&lt;/defaultValueExpression&gt;
&lt;/parameter&gt;'</span> <span class="hljs-keyword">order</span> <span class="hljs-keyword">by</span> $<span class="hljs-keyword">LIST</span>{<span class="hljs-keyword">Table</span>|AccountType,AddressType,AsAccountType,BomAutoCreateType,BOMItemType,ContactType,CustomFieldType,InventoryLogType,KitItemType,KitType,LocationType,OrderType,PartTrackingType,PartType,PaymentTermsType,PaymentType,PickItemType,PickType,POItemType,PostType,POType,ReceiptItemType,ReceiptType,RMAItemType,SOItemType,SOType,TaxRateType,UOMType,XOItemType,XOType}.id separator <span class="hljs-string">'\n'</span>) <span class="hljs-keyword">as</span> snippet

<span class="hljs-keyword">from</span> $<span class="hljs-keyword">LIST</span>{<span class="hljs-keyword">Table</span>|AccountType,AddressType,AsAccountType,BomAutoCreateType,BOMItemType,ContactType,CustomFieldType,InventoryLogType,KitItemType,KitType,LocationType,OrderType,PartTrackingType,PartType,PaymentTermsType,PaymentType,PickItemType,PickType,POItemType,PostType,POType,ReceiptItemType,ReceiptType,RMAItemType,SOItemType,SOType,TaxRateType,UOMType,XOItemType,XOType}

<span class="hljs-keyword">where</span> <span class="hljs-keyword">if</span>(<span class="hljs-string">"$TEXT{Type_IDs|'All'}"</span> = <span class="hljs-string">"'All'"</span>, <span class="hljs-number">1</span> = <span class="hljs-number">1</span>, $<span class="hljs-keyword">LIST</span>{<span class="hljs-keyword">Table</span>|AccountType,AddressType,AsAccountType,BomAutoCreateType,BOMItemType,ContactType,CustomFieldType,InventoryLogType,KitItemType,KitType,LocationType,OrderType,PartTrackingType,PartType,PaymentTermsType,PaymentType,PickItemType,PickType,POItemType,PostType,POType,ReceiptItemType,ReceiptType,RMAItemType,SOItemType,SOType,TaxRateType,UOMType,XOItemType,XOType}.id <span class="hljs-keyword">in</span> ($<span class="hljs-built_in">TEXT</span>{Type_IDs|<span class="hljs-string">'All'</span>}))

<span class="hljs-keyword">union</span> <span class="hljs-keyword">all</span>

<span class="hljs-keyword">select</span> <span class="hljs-string">'SQL'</span> <span class="hljs-keyword">as</span> Code,
    <span class="hljs-keyword">concat</span>(<span class="hljs-string">'and $LIST{Table|AccountType,AddressType,AsAccountType,BomAutoCreateType,BOMItemType,ContactType,CustomFieldType,InventoryLogType,KitItemType,KitType,LocationType,OrderType,PartTrackingType,PartType,PaymentTermsType,PaymentType,PickItemType,PickType,POItemType,PostType,POType,ReceiptItemType,ReceiptType,RMAItemType,SOItemType,SOType,TaxRateType,UOMType,XOItemType,XOType}.id in ('</span>,
    <span class="hljs-keyword">group_concat</span>(<span class="hljs-string">'$P!{ck$LIST{Table|AccountType,AddressType,AsAccountType,BomAutoCreateType,BOMItemType,ContactType,CustomFieldType,InventoryLogType,KitItemType,KitType,LocationType,OrderType,PartTrackingType,PartType,PaymentTermsType,PaymentType,PickItemType,PickType,POItemType,PostType,POType,ReceiptItemType,ReceiptType,RMAItemType,SOItemType,SOType,TaxRateType,UOMType,XOItemType,XOType}:'</span>,
        $<span class="hljs-keyword">LIST</span>{<span class="hljs-keyword">Table</span>|AccountType,AddressType,AsAccountType,BomAutoCreateType,BOMItemType,ContactType,CustomFieldType,InventoryLogType,KitItemType,KitType,LocationType,OrderType,PartTrackingType,PartType,PaymentTermsType,PaymentType,PickItemType,PickType,POItemType,PostType,POType,ReceiptItemType,ReceiptType,RMAItemType,SOItemType,SOType,TaxRateType,UOMType,XOItemType,XOType}.name, <span class="hljs-string">'}'</span>
        <span class="hljs-keyword">order</span> <span class="hljs-keyword">by</span> $<span class="hljs-keyword">LIST</span>{<span class="hljs-keyword">Table</span>|AccountType,AddressType,AsAccountType,BomAutoCreateType,BOMItemType,ContactType,CustomFieldType,InventoryLogType,KitItemType,KitType,LocationType,OrderType,PartTrackingType,PartType,PaymentTermsType,PaymentType,PickItemType,PickType,POItemType,PostType,POType,ReceiptItemType,ReceiptType,RMAItemType,SOItemType,SOType,TaxRateType,UOMType,XOItemType,XOType}.id
        separator <span class="hljs-string">', '</span>),
<span class="hljs-string">')'</span>) <span class="hljs-keyword">as</span> snippet

<span class="hljs-keyword">from</span> $<span class="hljs-keyword">LIST</span>{<span class="hljs-keyword">Table</span>|AccountType,AddressType,AsAccountType,BomAutoCreateType,BOMItemType,ContactType,CustomFieldType,InventoryLogType,KitItemType,KitType,LocationType,OrderType,PartTrackingType,PartType,PaymentTermsType,PaymentType,PickItemType,PickType,POItemType,PostType,POType,ReceiptItemType,ReceiptType,RMAItemType,SOItemType,SOType,TaxRateType,UOMType,XOItemType,XOType}

<span class="hljs-keyword">where</span> <span class="hljs-keyword">if</span>(<span class="hljs-string">"$TEXT{Type_IDs|'All'}"</span> = <span class="hljs-string">"'All'"</span>, <span class="hljs-number">1</span> = <span class="hljs-number">1</span>, $<span class="hljs-keyword">LIST</span>{<span class="hljs-keyword">Table</span>|AccountType,AddressType,AsAccountType,BomAutoCreateType,BOMItemType,ContactType,CustomFieldType,InventoryLogType,KitItemType,KitType,LocationType,OrderType,PartTrackingType,PartType,PaymentTermsType,PaymentType,PickItemType,PickType,POItemType,PostType,POType,ReceiptItemType,ReceiptType,RMAItemType,SOItemType,SOType,TaxRateType,UOMType,XOItemType,XOType}.id <span class="hljs-keyword">in</span> ($<span class="hljs-built_in">TEXT</span>{Type_IDs|<span class="hljs-string">'All'</span>}))

<span class="hljs-keyword">order</span> <span class="hljs-keyword">by</span> code
</div></code></pre>
<h3 id="37-custom-field-drop-down-generator-query">3.7. Custom Field Drop Down Generator Query</h3>
<pre class="hljs"><code><div><span class="hljs-keyword">select</span>
    customfield.name <span class="hljs-keyword">as</span> cfname,
    customlist.name <span class="hljs-keyword">as</span> cflistname,
    <span class="hljs-keyword">concat</span>(<span class="hljs-string">'CustomFieldByName('</span>,<span class="hljs-keyword">lower</span>(tablereference.tablerefname),<span class="hljs-string">'.customfields, "'</span>,customfield.name,<span class="hljs-string">'") as '</span>,<span class="hljs-keyword">replace</span>(customfield.name,<span class="hljs-string">' '</span>,<span class="hljs-string">''</span>),<span class="hljs-string">','</span>) <span class="hljs-keyword">as</span> selectStatement,
    <span class="hljs-keyword">concat</span>(<span class="hljs-string">'AND CustomFieldByName('</span>,<span class="hljs-keyword">lower</span>(tablereference.tablerefname),<span class="hljs-string">'.customfields, "'</span>,customfield.name,<span class="hljs-string">'") LIKE '</span>,<span class="hljs-string">"'$P!{cb"</span>,<span class="hljs-keyword">replace</span>(customfield.name,<span class="hljs-string">' '</span>,<span class="hljs-string">''</span>),<span class="hljs-string">"}'"</span>) <span class="hljs-keyword">as</span> whereStatement,
    <span class="hljs-keyword">concat</span>(<span class="hljs-string">'&lt;parameter name="cb'</span>,<span class="hljs-keyword">replace</span>(customfield.name,<span class="hljs-string">' '</span>,<span class="hljs-string">''</span>),<span class="hljs-string">'" class="java.lang.String" isForPrompting="false"&gt;
            &lt;parameterDescription&gt;&lt;![CDATA[%,All,'</span>,
    <span class="hljs-keyword">group_concat</span>(<span class="hljs-keyword">concat</span>(customlistitem.name,<span class="hljs-string">','</span>,customlistitem.name)),
    <span class="hljs-string">']]&gt;&lt;/parameterDescription&gt;
            &lt;defaultValueExpression&gt;&lt;![CDATA["%"]]&gt;&lt;/defaultValueExpression&gt;&lt;/parameter&gt;'</span>)
     <span class="hljs-keyword">as</span> dropdown
<span class="hljs-keyword">from</span> customlistitem
    <span class="hljs-keyword">inner</span> <span class="hljs-keyword">join</span> customlist <span class="hljs-keyword">ON</span> customlistitem.listid = customlist.id
    <span class="hljs-keyword">inner</span> <span class="hljs-keyword">join</span> customfield <span class="hljs-keyword">ON</span> customfield.listid = customlist.id
    <span class="hljs-keyword">left</span> <span class="hljs-keyword">outer</span> <span class="hljs-keyword">join</span> tablereference <span class="hljs-keyword">ON</span> tablereference.tableid = customfield.tableid
<span class="hljs-keyword">where</span> tablereference.tablerefname = <span class="hljs-string">'$LIST{Table|BOM,BOMInstructionItem,BOMItem,Company,Customer,Location,MO,Part,Pick,Product,PO,POItem,RMA,SO,SOItem,Ship,XO,User,Vendor,WO}'</span> <span class="hljs-keyword">and</span> customfield.activeflag = <span class="hljs-number">1</span>
<span class="hljs-keyword">group</span> <span class="hljs-keyword">by</span> customfield.id
</div></code></pre>
<hr>
<h2 id="4-mysql-code">4. MySQL Code</h2>
<h3 id="41-inventory">4.1. Inventory</h3>
<h4 id="411-calculations">4.1.1. Calculations</h4>
<p><em><a href="#">Back to Top (HTML)</a></em></p>
<p><em><a href="#Table-of-Contents-%3C!---omit-in-toc---%3E">Back to Top (VS Code)</a></em></p>
<ul>
<li>Short (Inventory Availability Report) = <code>potentialShort &lt; 0 ? 0 : potentialShort</code></li>
<li>Needed (Reorder Report) = <code>potentialNeed &lt;= reorderPoint &amp;&amp; potentialNeed &lt;= orderUpToLevel ? orderUpToLevel - potentialNeed : 0</code></li>
<li>Available to Sell = <code>onHand - allocated - notAvailable + dropship</code></li>
<li>Available to Pick = <code>onHand - committed - notAvailableToPick</code></li>
</ul>
<h4 id="412-inventory-module-per-company">4.1.2. Inventory Module per Company</h4>
<p><em><a href="#">Back to Top (HTML)</a></em></p>
<p><em><a href="#Table-of-Contents-%3C!---omit-in-toc---%3E">Back to Top (VS Code)</a></em></p>
<pre class="hljs"><code><div>left join ( <span class="hljs-comment">-- inventory data per company</span>
   <span class="hljs-keyword">select</span> part.id <span class="hljs-keyword">as</span> partId,
      <span class="hljs-comment">-- INVENTORY MODULE</span>
      <span class="hljs-keyword">coalesce</span>(qit.onHand,<span class="hljs-number">0</span>) <span class="hljs-keyword">as</span> onHand,
      <span class="hljs-keyword">coalesce</span>(qit.onOrder,<span class="hljs-number">0</span>) <span class="hljs-keyword">as</span> onOrder,
      <span class="hljs-keyword">coalesce</span>(qit.allocated,<span class="hljs-number">0</span>) <span class="hljs-keyword">as</span> allocated,
      <span class="hljs-keyword">coalesce</span>(c.committed,<span class="hljs-number">0</span>) <span class="hljs-keyword">as</span> committed,
      <span class="hljs-keyword">coalesce</span>(qit.notAvailable,<span class="hljs-number">0</span>) <span class="hljs-keyword">as</span> notAvailable,
      <span class="hljs-comment">-- Short (Inventory Availability Report) = potentialShort &lt; 0 ? 0 : potentialShort</span>
      <span class="hljs-keyword">if</span>(qit.potentialShort &lt; <span class="hljs-number">0</span>, <span class="hljs-number">0</span>, qit.potentialShort) <span class="hljs-keyword">as</span> <span class="hljs-keyword">short</span>,
      <span class="hljs-keyword">coalesce</span>(qit.dropship,<span class="hljs-number">0</span>) <span class="hljs-keyword">as</span> dropship,
      <span class="hljs-keyword">if</span>(qit.potentialAvailable &lt; <span class="hljs-number">0</span>, <span class="hljs-number">0</span>, qit.potentialAvailable) <span class="hljs-keyword">as</span> availableForSale,
      <span class="hljs-keyword">if</span>(<span class="hljs-keyword">coalesce</span>(qit.onHand,<span class="hljs-number">0</span>) - <span class="hljs-keyword">coalesce</span>(c.committed,<span class="hljs-number">0</span>) - <span class="hljs-keyword">coalesce</span>(qnatp.notAvailableToPick,<span class="hljs-number">0</span>) &lt; <span class="hljs-number">0</span>, <span class="hljs-number">0</span>, <span class="hljs-keyword">coalesce</span>(qit.onHand,<span class="hljs-number">0</span>) - <span class="hljs-keyword">coalesce</span>(c.committed,<span class="hljs-number">0</span>) - <span class="hljs-keyword">coalesce</span>(qnatp.notAvailableToPick,<span class="hljs-number">0</span>)) <span class="hljs-keyword">as</span> availableToPick,
      <span class="hljs-comment">-- EXTRAS</span>
      <span class="hljs-keyword">coalesce</span>(partReorder.minVal,<span class="hljs-number">0</span>) <span class="hljs-keyword">as</span> reorderPoint,
      <span class="hljs-keyword">coalesce</span>(partReorder.maxVal,<span class="hljs-number">0</span>) <span class="hljs-keyword">as</span> orderUpToLevel,
      <span class="hljs-comment">-- Needed (Reorder Report) = potentialNeed &lt;= reorderPoint &amp;&amp; potentialNeed &lt;= orderUpToLevel ? orderUpToLevel - potentialNeed : 0</span>
      <span class="hljs-keyword">if</span>(<span class="hljs-keyword">coalesce</span>(qit.potentialNeed,<span class="hljs-number">0</span>) &lt;= <span class="hljs-keyword">coalesce</span>(partReorder.minVal,<span class="hljs-number">0</span>) &amp;&amp; <span class="hljs-keyword">coalesce</span>(qit.potentialNeed,<span class="hljs-number">0</span>) &lt;= <span class="hljs-keyword">coalesce</span>(partReorder.maxVal,<span class="hljs-number">0</span>), <span class="hljs-keyword">coalesce</span>(partReorder.maxVal,<span class="hljs-number">0</span>) - <span class="hljs-keyword">coalesce</span>(qit.potentialNeed,<span class="hljs-number">0</span>), <span class="hljs-number">0</span>) <span class="hljs-keyword">as</span> needed
   <span class="hljs-keyword">from</span> part
      <span class="hljs-keyword">left</span> <span class="hljs-keyword">join</span> (
            <span class="hljs-keyword">select</span> partId,
               <span class="hljs-keyword">sum</span>(qtyOnHand) <span class="hljs-keyword">as</span> onHand,
               <span class="hljs-keyword">sum</span>(qtyAllocated) <span class="hljs-keyword">as</span> allocated,
               <span class="hljs-keyword">sum</span>(qtyNotAvailable) <span class="hljs-keyword">as</span> notAvailable,
               <span class="hljs-keyword">sum</span>(qtyDropship) <span class="hljs-keyword">as</span> dropship,
               <span class="hljs-keyword">sum</span>(qtyOnOrder) <span class="hljs-keyword">as</span> onOrder,
               <span class="hljs-keyword">sum</span>(qtyOnHand - qtyAllocated - qtyNotAvailable + qtyDropship) <span class="hljs-keyword">as</span> potentialAvailable,
               <span class="hljs-comment">-- Short (Inventory Availability Report) = potentialShort &lt; 0 ? 0 : potentialShort</span>
               <span class="hljs-keyword">sum</span>(qtyAllocated - qtyOnHand + qtyNotAvailable) <span class="hljs-keyword">as</span> potentialShort,
               <span class="hljs-comment">-- Needed (Reorder Report) = potentialNeed &lt;= reorderPoint &amp;&amp; potentialNeed &lt;= orderUpToLevel ? orderUpToLevel - potentialNeed : 0</span>
               <span class="hljs-keyword">sum</span>(qtyOnHand + qtyOnOrder - qtyAllocated - qtyNotAvailable) <span class="hljs-keyword">as</span> potentialNeed
            <span class="hljs-keyword">from</span> qtyInventoryTotals
            <span class="hljs-keyword">group</span> <span class="hljs-keyword">by</span> partId
      ) <span class="hljs-keyword">as</span> qit <span class="hljs-keyword">on</span> qit.partId = part.id
      <span class="hljs-keyword">left</span> <span class="hljs-keyword">join</span> (
            <span class="hljs-keyword">select</span> partId,
               <span class="hljs-keyword">sum</span>(qty) <span class="hljs-keyword">as</span> notAvailableToPick
            <span class="hljs-keyword">from</span> qtyNotAvailableToPick
            <span class="hljs-keyword">group</span> <span class="hljs-keyword">by</span> partId
      ) <span class="hljs-keyword">as</span> qnatp <span class="hljs-keyword">on</span> qnatp.partId = part.id
      <span class="hljs-keyword">left</span> <span class="hljs-keyword">join</span> (
            <span class="hljs-keyword">select</span> partId,
               <span class="hljs-keyword">sum</span>(qty) <span class="hljs-keyword">as</span> committed
            <span class="hljs-keyword">from</span> qtyCommitted
            <span class="hljs-keyword">group</span> <span class="hljs-keyword">by</span> partId
      ) <span class="hljs-keyword">as</span> c <span class="hljs-keyword">on</span> c.partId = part.id
      <span class="hljs-keyword">left</span> <span class="hljs-keyword">join</span> (
            <span class="hljs-keyword">select</span> partId,
               <span class="hljs-keyword">sum</span>(orderUpToLevel) <span class="hljs-keyword">as</span> maxVal,
               <span class="hljs-keyword">sum</span>(reorderPoint) <span class="hljs-keyword">as</span> minVal
            <span class="hljs-keyword">from</span> partReorder
            <span class="hljs-keyword">group</span> <span class="hljs-keyword">by</span> partId
      ) <span class="hljs-keyword">as</span> partReorder <span class="hljs-keyword">on</span> partReorder.partId = part.id
   <span class="hljs-keyword">where</span> (qit.partId <span class="hljs-keyword">is</span> <span class="hljs-keyword">not</span> <span class="hljs-literal">null</span> <span class="hljs-keyword">or</span> qnatp.partId <span class="hljs-keyword">is</span> <span class="hljs-keyword">not</span> <span class="hljs-literal">null</span> <span class="hljs-keyword">or</span> c.partId <span class="hljs-keyword">is</span> <span class="hljs-keyword">not</span> <span class="hljs-literal">null</span> <span class="hljs-keyword">or</span> partReorder.partId <span class="hljs-keyword">is</span> <span class="hljs-keyword">not</span> <span class="hljs-literal">null</span>)
) <span class="hljs-keyword">as</span> inventorySnapshot <span class="hljs-keyword">on</span> inventorySnapshot.partId = part.id
</div></code></pre>
<h4 id="413-inventory-module-per-location-group">4.1.3. Inventory Module Per Location Group</h4>
<p><em><a href="#">Back to Top (HTML)</a></em></p>
<p><em><a href="#Table-of-Contents-%3C!---omit-in-toc---%3E">Back to Top (VS Code)</a></em></p>
<pre class="hljs"><code><div>left join ( <span class="hljs-comment">-- inventory data per location group</span>
   <span class="hljs-keyword">select</span> part.id <span class="hljs-keyword">as</span> partId,
      locationGroup.id <span class="hljs-keyword">as</span> locationGroupId,
      <span class="hljs-comment">-- INVENTORY MODULE</span>
      <span class="hljs-keyword">coalesce</span>(qit.onHand,<span class="hljs-number">0</span>) <span class="hljs-keyword">as</span> onHand,
      <span class="hljs-keyword">coalesce</span>(qit.onOrder,<span class="hljs-number">0</span>) <span class="hljs-keyword">as</span> onOrder,
      <span class="hljs-keyword">coalesce</span>(qit.allocated,<span class="hljs-number">0</span>) <span class="hljs-keyword">as</span> allocated,
      <span class="hljs-keyword">coalesce</span>(c.committed,<span class="hljs-number">0</span>) <span class="hljs-keyword">as</span> committed,
      <span class="hljs-keyword">coalesce</span>(qit.notAvailable,<span class="hljs-number">0</span>) <span class="hljs-keyword">as</span> notAvailable,
      <span class="hljs-comment">-- Short (Inventory Availability Report) = potentialShort &lt; 0 ? 0 : potentialShort</span>
      <span class="hljs-keyword">if</span>(qit.potentialShort &lt; <span class="hljs-number">0</span>, <span class="hljs-number">0</span>, qit.potentialShort) <span class="hljs-keyword">as</span> <span class="hljs-keyword">short</span>,
      <span class="hljs-keyword">coalesce</span>(qit.dropship,<span class="hljs-number">0</span>) <span class="hljs-keyword">as</span> dropship,
      <span class="hljs-keyword">if</span>(qit.potentialAvailable &lt; <span class="hljs-number">0</span>, <span class="hljs-number">0</span>, qit.potentialAvailable) <span class="hljs-keyword">as</span> availableForSale,
      <span class="hljs-keyword">if</span>(<span class="hljs-keyword">coalesce</span>(qit.onHand,<span class="hljs-number">0</span>) - <span class="hljs-keyword">coalesce</span>(c.committed,<span class="hljs-number">0</span>) - <span class="hljs-keyword">coalesce</span>(qnatp.notAvailableToPick,<span class="hljs-number">0</span>) &lt; <span class="hljs-number">0</span>, <span class="hljs-number">0</span>, <span class="hljs-keyword">coalesce</span>(qit.onHand,<span class="hljs-number">0</span>) - <span class="hljs-keyword">coalesce</span>(c.committed,<span class="hljs-number">0</span>) - <span class="hljs-keyword">coalesce</span>(qnatp.notAvailableToPick,<span class="hljs-number">0</span>)) <span class="hljs-keyword">as</span> availableToPick,
      <span class="hljs-comment">-- EXTRAS</span>
      <span class="hljs-keyword">coalesce</span>(partReorder.minVal,<span class="hljs-number">0</span>) <span class="hljs-keyword">as</span> reorderPoint,
      <span class="hljs-keyword">coalesce</span>(partReorder.maxVal,<span class="hljs-number">0</span>) <span class="hljs-keyword">as</span> orderUpToLevel,
      <span class="hljs-comment">-- Needed (Reorder Report) = potentialNeed &lt;= reorderPoint &amp;&amp; potentialNeed &lt;= orderUpToLevel ? orderUpToLevel - potentialNeed : 0</span>
      <span class="hljs-keyword">if</span>(<span class="hljs-keyword">coalesce</span>(qit.potentialNeed,<span class="hljs-number">0</span>) &lt;= <span class="hljs-keyword">coalesce</span>(partReorder.minVal,<span class="hljs-number">0</span>) &amp;&amp; <span class="hljs-keyword">coalesce</span>(qit.potentialNeed,<span class="hljs-number">0</span>) &lt;= <span class="hljs-keyword">coalesce</span>(partReorder.maxVal,<span class="hljs-number">0</span>), <span class="hljs-keyword">coalesce</span>(partReorder.maxVal,<span class="hljs-number">0</span>) - <span class="hljs-keyword">coalesce</span>(qit.potentialNeed,<span class="hljs-number">0</span>), <span class="hljs-number">0</span>) <span class="hljs-keyword">as</span> needed
   <span class="hljs-keyword">from</span> part
      <span class="hljs-keyword">join</span> locationGroup <span class="hljs-keyword">on</span> locationGroup.id <span class="hljs-keyword">in</span> (<span class="hljs-keyword">select</span> <span class="hljs-keyword">id</span> <span class="hljs-keyword">from</span> locationGroup) <span class="hljs-comment">-- filter can go here</span>
      <span class="hljs-keyword">left</span> <span class="hljs-keyword">join</span> (
            <span class="hljs-keyword">select</span> partId,
               locationGroupId,
               <span class="hljs-keyword">sum</span>(qtyOnHand) <span class="hljs-keyword">as</span> onHand,
               <span class="hljs-keyword">sum</span>(qtyAllocated) <span class="hljs-keyword">as</span> allocated,
               <span class="hljs-keyword">sum</span>(qtyNotAvailable) <span class="hljs-keyword">as</span> notAvailable,
               <span class="hljs-keyword">sum</span>(qtyDropship) <span class="hljs-keyword">as</span> dropship,
               <span class="hljs-keyword">sum</span>(qtyOnOrder) <span class="hljs-keyword">as</span> onOrder,
               <span class="hljs-keyword">sum</span>(qtyOnHand - qtyAllocated - qtyNotAvailable + qtyDropship) <span class="hljs-keyword">as</span> potentialAvailable,
               <span class="hljs-comment">-- Short (Inventory Availability Report) = potentialShort &lt; 0 ? 0 : potentialShort</span>
               <span class="hljs-keyword">sum</span>(qtyAllocated - qtyOnHand + qtyNotAvailable) <span class="hljs-keyword">as</span> potentialShort,
               <span class="hljs-comment">-- Needed (Reorder Report) = potentialNeed &lt;= reorderPoint &amp;&amp; potentialNeed &lt;= orderUpToLevel ? orderUpToLevel - potentialNeed : 0</span>
               <span class="hljs-keyword">sum</span>(qtyOnHand + qtyOnOrder - qtyAllocated - qtyNotAvailable) <span class="hljs-keyword">as</span> potentialNeed
            <span class="hljs-keyword">from</span> qtyInventoryTotals
            <span class="hljs-keyword">group</span> <span class="hljs-keyword">by</span> partId, locationGroupId
      ) <span class="hljs-keyword">as</span> qit <span class="hljs-keyword">on</span> qit.partId = part.id <span class="hljs-keyword">and</span> qit.locationGroupId = locationGroup.id
      <span class="hljs-keyword">left</span> <span class="hljs-keyword">join</span> (
            <span class="hljs-keyword">select</span> partId,
               locationGroupId,
               <span class="hljs-keyword">sum</span>(qty) <span class="hljs-keyword">as</span> notAvailableToPick
            <span class="hljs-keyword">from</span> qtyNotAvailableToPick
            <span class="hljs-keyword">group</span> <span class="hljs-keyword">by</span> partId, locationGroupId
      ) <span class="hljs-keyword">as</span> qnatp <span class="hljs-keyword">on</span> qnatp.partId = part.id <span class="hljs-keyword">and</span> qnatp.locationGroupId = locationGroup.id
      <span class="hljs-keyword">left</span> <span class="hljs-keyword">join</span> (
            <span class="hljs-keyword">select</span> partId,
               locationGroupId,
               <span class="hljs-keyword">sum</span>(qty) <span class="hljs-keyword">as</span> committed
            <span class="hljs-keyword">from</span> qtyCommitted
            <span class="hljs-keyword">group</span> <span class="hljs-keyword">by</span> partId, locationGroupId
      ) <span class="hljs-keyword">as</span> c <span class="hljs-keyword">on</span> c.partId = part.id <span class="hljs-keyword">and</span> c.locationGroupId = locationGroup.id
      <span class="hljs-keyword">left</span> <span class="hljs-keyword">join</span> (
            <span class="hljs-keyword">select</span> partId,
               locationGroupId,
               (<span class="hljs-keyword">select</span> sysValue <span class="hljs-keyword">from</span> sysProperties <span class="hljs-keyword">where</span> sysKey = <span class="hljs-string">'locationGroupReordering'</span>) <span class="hljs-keyword">as</span> lgFlag,
               <span class="hljs-keyword">sum</span>(orderUpToLevel) <span class="hljs-keyword">as</span> maxVal,
               <span class="hljs-keyword">sum</span>(reorderPoint) <span class="hljs-keyword">as</span> minVal
            <span class="hljs-keyword">from</span> partReorder
            <span class="hljs-keyword">group</span> <span class="hljs-keyword">by</span> partId, <span class="hljs-keyword">if</span>((<span class="hljs-keyword">select</span> sysValue <span class="hljs-keyword">from</span> sysProperties <span class="hljs-keyword">where</span> sysKey = <span class="hljs-string">'locationGroupReordering'</span>) = <span class="hljs-string">'true'</span>, locationGroupId, <span class="hljs-number">1</span>)
      ) <span class="hljs-keyword">as</span> partReorder <span class="hljs-keyword">on</span> partReorder.partId = part.id <span class="hljs-keyword">and</span> <span class="hljs-keyword">if</span>(partReorder.lgFlag = <span class="hljs-string">'true'</span>, partReorder.partReorder.locationGroupId = locationGroup.id, <span class="hljs-number">1</span> = <span class="hljs-number">1</span>)
   <span class="hljs-keyword">where</span> (qit.partId <span class="hljs-keyword">is</span> <span class="hljs-keyword">not</span> <span class="hljs-literal">null</span> <span class="hljs-keyword">or</span> qnatp.partId <span class="hljs-keyword">is</span> <span class="hljs-keyword">not</span> <span class="hljs-literal">null</span> <span class="hljs-keyword">or</span> c.partId <span class="hljs-keyword">is</span> <span class="hljs-keyword">not</span> <span class="hljs-literal">null</span> <span class="hljs-keyword">or</span> partReorder.partId <span class="hljs-keyword">is</span> <span class="hljs-keyword">not</span> <span class="hljs-literal">null</span>)
) <span class="hljs-keyword">as</span> inventory <span class="hljs-keyword">on</span> inventory.partId = part.id <span class="hljs-keyword">and</span> inventory.locationGroupId = locationGroup.id
</div></code></pre>
<h3 id="42-match-fishbowls-precisionscale-with-decimals">4.2. Match Fishbowl's precision/scale with Decimals</h3>
<p><em><a href="#">Back to Top (HTML)</a></em></p>
<p><em><a href="#Table-of-Contents-%3C!---omit-in-toc---%3E">Back to Top (VS Code)</a></em></p>
<pre class="hljs"><code><div>cast(x as decimal(28,9))
</div></code></pre>
<h3 id="43-call-createlist">4.3. call createlist</h3>
<p><em><a href="#">Back to Top (HTML)</a></em></p>
<p><em><a href="#Table-of-Contents-%3C!---omit-in-toc---%3E">Back to Top (VS Code)</a></em></p>
<pre class="hljs"><code><div><span class="hljs-keyword">call</span> createlist($P!{<span class="hljs-keyword">Count</span>}, <span class="hljs-string">'createlist'</span>);

<span class="hljs-keyword">select</span> tmp_createlist.cnt

<span class="hljs-keyword">from</span> tmp_createlist
</div></code></pre>
<h3 id="44-report-date-sysvalue">4.4. Report Date SysValue</h3>
<p><em><a href="#">Back to Top (HTML)</a></em></p>
<p><em><a href="#Table-of-Contents-%3C!---omit-in-toc---%3E">Back to Top (VS Code)</a></em></p>
<p>In SELECT</p>
<pre class="hljs"><code><div>group_concat(
   distinct <span class="hljs-comment">-- optional</span>
      date_format(table.date,<span class="hljs-keyword">replace</span>(<span class="hljs-keyword">replace</span>(<span class="hljs-keyword">replace</span>(<span class="hljs-keyword">replace</span>(REPORT_DATE_FORMAT.sysValue,<span class="hljs-string">'dd'</span>,<span class="hljs-string">'%d'</span>),<span class="hljs-string">'MM'</span>,<span class="hljs-string">'%m'</span>),<span class="hljs-string">'yyyy'</span>,<span class="hljs-string">'%Y'</span>),<span class="hljs-string">'yy'</span>,<span class="hljs-string">'%y'</span>))
   <span class="hljs-keyword">order</span> <span class="hljs-keyword">by</span> table.date <span class="hljs-comment">-- optional</span>
   separator <span class="hljs-string">', '</span> <span class="hljs-comment">-- optional</span>
) <span class="hljs-keyword">as</span> info
</div></code></pre>
<p>In FROM</p>
<pre class="hljs"><code><div>left join sysProperties as REPORT_DATE_FORMAT on REPORT_DATE_FORMAT.sysKey = 'REPORT_DATE_FORMAT'
</div></code></pre>
<h3 id="45-fishbowls-tracking-date-display">4.5. Fishbowl's Tracking Date Display</h3>
<p><em><a href="#">Back to Top (HTML)</a></em></p>
<p><em><a href="#Table-of-Contents-%3C!---omit-in-toc---%3E">Back to Top (VS Code)</a></em></p>
<pre class="hljs"><code><div>date_format(table.date,'%b %d, %Y')
</div></code></pre>
<h3 id="46-date-ranges">4.6. Date Ranges</h3>
<p><em><a href="#">Back to Top (HTML)</a></em></p>
<p><em><a href="#Table-of-Contents-%3C!---omit-in-toc---%3E">Back to Top (VS Code)</a></em></p>
<pre class="hljs"><code><div>between $P{dateRange1} and date_sub($P{dateRange2},interval 1 second)
</div></code></pre>
<h3 id="47-pre-205-custom-field-query">4.7. Pre 20.5 Custom Field Query</h3>
<p><em><a href="#">Back to Top (HTML)</a></em></p>
<p><em><a href="#Table-of-Contents-%3C!---omit-in-toc---%3E">Back to Top (VS Code)</a></em></p>
<p>Usage: Use in the data module to quickly get custom field data.</p>
<p>Table aliasas will have backticks because that's the only way to automatically generate them. You can always change the aliases later.</p>
<pre class="hljs"><code><div><span class="hljs-keyword">select</span> tableReference.tablerefname <span class="hljs-keyword">as</span> tableRefName,
   customField.name <span class="hljs-keyword">as</span> customFieldName,
   customField.id <span class="hljs-keyword">as</span> customFieldId,
   <span class="hljs-keyword">IF</span>(
       typereference.tablerefname=<span class="hljs-string">'CustomTimestamp'</span>,
       <span class="hljs-keyword">concat</span>(<span class="hljs-string">"`"</span>,customfield.name,<span class="hljs-string">"`.info AS `"</span>,<span class="hljs-keyword">UPPER</span>(customfield.name),<span class="hljs-string">"`,"</span>),
       <span class="hljs-keyword">concat</span>(<span class="hljs-string">"COALESCE(`"</span>,customfield.name,<span class="hljs-string">"`.info,"</span>,
            (<span class="hljs-keyword">CASE</span>
                <span class="hljs-keyword">WHEN</span> typeReference.tableRefName <span class="hljs-keyword">LIKE</span> <span class="hljs-string">'CustomDecimal'</span> <span class="hljs-keyword">THEN</span> <span class="hljs-string">"0) AS `"</span>
                <span class="hljs-keyword">WHEN</span> typeReference.tableRefName <span class="hljs-keyword">LIKE</span> <span class="hljs-string">'CustomInteger'</span> <span class="hljs-keyword">THEN</span> <span class="hljs-string">"0) AS `"</span>
                <span class="hljs-keyword">ELSE</span> <span class="hljs-string">"'') AS `"</span>
            <span class="hljs-keyword">END</span>),<span class="hljs-keyword">UPPER</span>(<span class="hljs-keyword">REPLACE</span>(<span class="hljs-keyword">REPLACE</span>(customfield.name,<span class="hljs-string">"-"</span>,<span class="hljs-string">""</span>),<span class="hljs-string">" "</span>,<span class="hljs-string">""</span>)),<span class="hljs-string">"`,"</span>)) <span class="hljs-keyword">AS</span> selectField,
   <span class="hljs-keyword">concat</span>(<span class="hljs-string">"left join "</span>,typeReference.tableRefName,<span class="hljs-string">" as `"</span>,customField.name,<span class="hljs-string">"` on `"</span>,customField.name,<span class="hljs-string">"`.recordId = "</span>,tableReference.tableRefName,<span class="hljs-string">".id and `"</span>,customField.name,<span class="hljs-string">"`.customFieldId = (select id from customField where name = '"</span>,customField.name,<span class="hljs-string">"' and tableId = "</span>,customField.tableId,<span class="hljs-string">")"</span>) <span class="hljs-keyword">as</span> nameCode,
   <span class="hljs-keyword">concat</span>(<span class="hljs-string">"left join "</span>,typeReference.tableRefName,<span class="hljs-string">" as `"</span>,customField.name,<span class="hljs-string">"` on `"</span>,customField.name,<span class="hljs-string">"`.recordId = "</span>,tableReference.tableRefName,<span class="hljs-string">".id and `"</span>,customField.name,<span class="hljs-string">"`.customFieldId = "</span>,customField.id) <span class="hljs-keyword">as</span> idCode,
   <span class="hljs-keyword">group_concat</span>(customListItem.name,<span class="hljs-string">', '</span>,customListItem.name <span class="hljs-keyword">order</span> <span class="hljs-keyword">by</span> customListItem.name separator <span class="hljs-string">', '</span>) <span class="hljs-keyword">as</span> dropDownCode
<span class="hljs-keyword">from</span> customField
   <span class="hljs-keyword">left</span> <span class="hljs-keyword">join</span> customFieldType <span class="hljs-keyword">on</span> customFieldType.id = customField.customFieldTypeId
   <span class="hljs-keyword">left</span> <span class="hljs-keyword">join</span> tableReference <span class="hljs-keyword">as</span> typeReference <span class="hljs-keyword">on</span> typeReference.tableId = customFieldType.tableId
   <span class="hljs-keyword">left</span> <span class="hljs-keyword">join</span> tableReference <span class="hljs-keyword">as</span> tableReference <span class="hljs-keyword">on</span> tableReference.tableId = customField.tableId
   <span class="hljs-keyword">left</span> <span class="hljs-keyword">join</span> customListItem <span class="hljs-keyword">as</span> customListItem <span class="hljs-keyword">on</span> customListItem.listId = customField.listId
<span class="hljs-keyword">where</span> tableReference.tablerefname <span class="hljs-keyword">like</span> <span class="hljs-string">'part'</span>
<span class="hljs-keyword">group</span> <span class="hljs-keyword">by</span> tableReference.tablerefname, customField.id
<span class="hljs-keyword">order</span> <span class="hljs-keyword">by</span> tableReference.tablerefname, customField.name

<span class="hljs-comment">-- rev 01/29/2019 added selectName field</span>
</div></code></pre>
<h3 id="48-205-custom-field-query">4.8. 20.5+ Custom Field Query</h3>
<p><em><a href="#">Back to Top (HTML)</a></em></p>
<p><em><a href="#Table-of-Contents-%3C!---omit-in-toc---%3E">Back to Top (VS Code)</a></em></p>
<p>With the new changes to custom fields in Fishbowl 20.5, we need to query in a different manner. The following will generate formatted fields in a select statement per module.</p>
<pre class="hljs"><code><div><span class="hljs-keyword">SELECT</span>
<span class="hljs-keyword">CONCAT</span>(<span class="hljs-string">"CustomFieldByName($LIST{TABLE_NAME|accountgroup,bom,bomitem,carrier,category,categorygroup,company,customdecimal,customer,custominteger,customset,customtimestamp,customvarchar,customvarcharlong,inventorylog,location,locationgroup,mo,part,partcategory,partcost,parttotree,parttree,pick,pickitem,po,poitem,post,postpo,postpoitem,postso,postsoitem,postxo,postxoitem,product,producttotree,producttree,receipt,receiptitem,rma,rmaitem,ship,shipitem,so,soitem,sysuser,tag,usergroup,vendor,wo,woitem,wopickdetail,xo,xoitem|General}.customfields, '"</span>,customfield.name,<span class="hljs-string">"') AS '"</span>,<span class="hljs-keyword">UPPER</span>(<span class="hljs-keyword">REPLACE</span>(<span class="hljs-keyword">REPLACE</span>(<span class="hljs-keyword">REPLACE</span>(customfield.name,<span class="hljs-string">"-"</span>,<span class="hljs-string">""</span>),<span class="hljs-string">" "</span>,<span class="hljs-string">""</span>),<span class="hljs-string">"'"</span>,<span class="hljs-string">""</span>)),<span class="hljs-string">"',"</span>) <span class="hljs-keyword">as</span> selectname,
<span class="hljs-keyword">CONCAT</span>(<span class="hljs-string">'&lt;field name="'</span>,
        <span class="hljs-keyword">UPPER</span>(<span class="hljs-keyword">REPLACE</span>(<span class="hljs-keyword">REPLACE</span>(<span class="hljs-keyword">REPLACE</span>(customfield.name,<span class="hljs-string">"-"</span>,<span class="hljs-string">""</span>),<span class="hljs-string">" "</span>,<span class="hljs-string">""</span>),<span class="hljs-string">"'"</span>,<span class="hljs-string">""</span>)),
        <span class="hljs-string">'" class="java.lang.'</span>,
        (<span class="hljs-keyword">CASE</span>
            <span class="hljs-keyword">WHEN</span> customfieldtypeid = <span class="hljs-number">1</span> <span class="hljs-keyword">THEN</span> <span class="hljs-string">'String'</span>
            <span class="hljs-keyword">WHEN</span> customfieldtypeid = <span class="hljs-number">2</span> <span class="hljs-keyword">THEN</span> <span class="hljs-string">'Timestamp'</span>
            <span class="hljs-keyword">WHEN</span> customfieldtypeid = <span class="hljs-number">3</span> <span class="hljs-keyword">THEN</span> <span class="hljs-string">'Double'</span>
            <span class="hljs-keyword">WHEN</span> customfieldtypeid = <span class="hljs-number">4</span> <span class="hljs-keyword">THEN</span> <span class="hljs-string">'Double'</span>
            <span class="hljs-keyword">WHEN</span> customfieldtypeid = <span class="hljs-number">5</span> <span class="hljs-keyword">THEN</span> <span class="hljs-string">'Integer'</span>
            <span class="hljs-keyword">WHEN</span> customfieldtypeid = <span class="hljs-number">6</span> <span class="hljs-keyword">THEN</span> <span class="hljs-string">'Integer'</span>
            <span class="hljs-keyword">WHEN</span> customfieldtypeid = <span class="hljs-number">7</span> <span class="hljs-keyword">THEN</span> <span class="hljs-string">'String'</span>
            <span class="hljs-keyword">WHEN</span> customfieldtypeid = <span class="hljs-number">8</span> <span class="hljs-keyword">THEN</span> <span class="hljs-string">'String'</span>
            <span class="hljs-keyword">WHEN</span> customfieldtypeid = <span class="hljs-number">9</span> <span class="hljs-keyword">THEN</span> <span class="hljs-string">'String'</span>
            <span class="hljs-keyword">ELSE</span> <span class="hljs-string">'String'</span>
        <span class="hljs-keyword">END</span>),
        <span class="hljs-string">'"/&gt;'</span>) <span class="hljs-keyword">as</span> xmlfield
<span class="hljs-keyword">FROM</span> customfield
<span class="hljs-keyword">WHERE</span> tableid = (<span class="hljs-keyword">SELECT</span> tableid <span class="hljs-keyword">FROM</span> tablereference <span class="hljs-keyword">WHERE</span> tablerefname = <span class="hljs-string">'$LIST{TABLE_NAME|accountgroup,bom,bomitem,carrier,category,categorygroup,company,customdecimal,customer,custominteger,customset,customtimestamp,customvarchar,customvarcharlong,inventorylog,location,locationgroup,mo,part,partcategory,partcost,parttotree,parttree,pick,pickitem,po,poitem,post,postpo,postpoitem,postso,postsoitem,postxo,postxoitem,product,producttotree,producttree,receipt,receiptitem,rma,rmaitem,ship,shipitem,so,soitem,sysuser,tag,usergroup,vendor,wo,woitem,wopickdetail,xo,xoitem|General}'</span>)
  <span class="hljs-keyword">AND</span> activeflag = <span class="hljs-literal">true</span>
<span class="hljs-keyword">order</span> <span class="hljs-keyword">by</span> <span class="hljs-keyword">name</span>
</div></code></pre>
<h3 id="49-sequential-counter-without-call-createlist">4.9. Sequential Counter without Call Createlist</h3>
<p><em><a href="#">Back to Top (HTML)</a></em></p>
<p><em><a href="#Table-of-Contents-%3C!---omit-in-toc---%3E">Back to Top (VS Code)</a></em></p>
<p>Uses binary addition to generate a sequential list of numbers. The one below will generate 2^12 (4096) rows. If you need more rows, replicate the pattern for the next binary step and so on. It will always yield 2^(num in last join)+1</p>
<p>works well as a derived table with a limit to define your upper limit</p>
<pre class="hljs"><code><div><span class="hljs-keyword">select</span>
   <span class="hljs-number">1</span> <span class="hljs-keyword">as</span> one,
   two1.n + two2.n + two4.n + two8.n + two16.n + two32.n + two64.n + two128.n + two256.n + two512.n + two1024.n + two2048.n + <span class="hljs-number">1</span> <span class="hljs-keyword">as</span> cnt
<span class="hljs-keyword">from</span>
   (<span class="hljs-keyword">select</span> <span class="hljs-number">0</span> <span class="hljs-keyword">as</span> n <span class="hljs-keyword">union</span> <span class="hljs-keyword">all</span> <span class="hljs-keyword">select</span> <span class="hljs-number">1</span> <span class="hljs-keyword">as</span> n) two1
   <span class="hljs-keyword">join</span> (<span class="hljs-keyword">select</span> <span class="hljs-number">0</span> <span class="hljs-keyword">as</span> n <span class="hljs-keyword">union</span> <span class="hljs-keyword">all</span> <span class="hljs-keyword">select</span> <span class="hljs-number">2</span> <span class="hljs-keyword">as</span> n) two2
   <span class="hljs-keyword">join</span> (<span class="hljs-keyword">select</span> <span class="hljs-number">0</span> <span class="hljs-keyword">as</span> n <span class="hljs-keyword">union</span> <span class="hljs-keyword">all</span> <span class="hljs-keyword">select</span> <span class="hljs-number">4</span> <span class="hljs-keyword">as</span> n) two4
   <span class="hljs-keyword">join</span> (<span class="hljs-keyword">select</span> <span class="hljs-number">0</span> <span class="hljs-keyword">as</span> n <span class="hljs-keyword">union</span> <span class="hljs-keyword">all</span> <span class="hljs-keyword">select</span> <span class="hljs-number">8</span> <span class="hljs-keyword">as</span> n) two8
   <span class="hljs-keyword">join</span> (<span class="hljs-keyword">select</span> <span class="hljs-number">0</span> <span class="hljs-keyword">as</span> n <span class="hljs-keyword">union</span> <span class="hljs-keyword">all</span> <span class="hljs-keyword">select</span> <span class="hljs-number">16</span> <span class="hljs-keyword">as</span> n) two16
   <span class="hljs-keyword">join</span> (<span class="hljs-keyword">select</span> <span class="hljs-number">0</span> <span class="hljs-keyword">as</span> n <span class="hljs-keyword">union</span> <span class="hljs-keyword">all</span> <span class="hljs-keyword">select</span> <span class="hljs-number">32</span> <span class="hljs-keyword">as</span> n) two32
   <span class="hljs-keyword">join</span> (<span class="hljs-keyword">select</span> <span class="hljs-number">0</span> <span class="hljs-keyword">as</span> n <span class="hljs-keyword">union</span> <span class="hljs-keyword">all</span> <span class="hljs-keyword">select</span> <span class="hljs-number">64</span> <span class="hljs-keyword">as</span> n) two64
   <span class="hljs-keyword">join</span> (<span class="hljs-keyword">select</span> <span class="hljs-number">0</span> <span class="hljs-keyword">as</span> n <span class="hljs-keyword">union</span> <span class="hljs-keyword">all</span> <span class="hljs-keyword">select</span> <span class="hljs-number">128</span> <span class="hljs-keyword">as</span> n) two128
   <span class="hljs-keyword">join</span> (<span class="hljs-keyword">select</span> <span class="hljs-number">0</span> <span class="hljs-keyword">as</span> n <span class="hljs-keyword">union</span> <span class="hljs-keyword">all</span> <span class="hljs-keyword">select</span> <span class="hljs-number">256</span> <span class="hljs-keyword">as</span> n) two256
   <span class="hljs-keyword">join</span> (<span class="hljs-keyword">select</span> <span class="hljs-number">0</span> <span class="hljs-keyword">as</span> n <span class="hljs-keyword">union</span> <span class="hljs-keyword">all</span> <span class="hljs-keyword">select</span> <span class="hljs-number">512</span> <span class="hljs-keyword">as</span> n) two512
   <span class="hljs-keyword">join</span> (<span class="hljs-keyword">select</span> <span class="hljs-number">0</span> <span class="hljs-keyword">as</span> n <span class="hljs-keyword">union</span> <span class="hljs-keyword">all</span> <span class="hljs-keyword">select</span> <span class="hljs-number">1024</span> <span class="hljs-keyword">as</span> n) two1024
   <span class="hljs-keyword">join</span> (<span class="hljs-keyword">select</span> <span class="hljs-number">0</span> <span class="hljs-keyword">as</span> n <span class="hljs-keyword">union</span> <span class="hljs-keyword">all</span> <span class="hljs-keyword">select</span> <span class="hljs-number">2048</span> <span class="hljs-keyword">as</span> n) two2048
</div></code></pre>
<p>Another option is to use a variable counter. This is something you can do conditionally, so if you only want to increment in certain cases you can add an if or case statement to what is happening in the select.</p>
<pre class="hljs"><code><div><span class="hljs-keyword">select</span> 
   @counter:=@counter + <span class="hljs-number">1</span> <span class="hljs-keyword">as</span> counter
<span class="hljs-keyword">from</span> part

<span class="hljs-keyword">cross</span> <span class="hljs-keyword">join</span> (<span class="hljs-keyword">select</span> @counter:=<span class="hljs-number">0</span>) <span class="hljs-keyword">as</span> c
</div></code></pre>
<h3 id="410-creating-cumulative-totals-in-mysql">4.10. Creating Cumulative Totals in MySQL</h3>
<p><em><a href="#">Back to Top (HTML)</a></em></p>
<p><em><a href="#Table-of-Contents-%3C!---omit-in-toc---%3E">Back to Top (VS Code)</a></em></p>
<p>It's tough... here's a tutorial</p>
<p><a href="https://popsql.com/learn-sql/mysql/how-to-calculate-cumulative-sum-running-total-in-mysql/">Cumulative Totals</a></p>
<h3 id="411-select-all-custom-fields-per-table-record">4.11. SELECT all custom fields per table record</h3>
<p><em><a href="#">Back to Top (HTML)</a></em></p>
<p><em><a href="#Table-of-Contents-%3C!---omit-in-toc---%3E">Back to Top (VS Code)</a></em></p>
<p>Fishbowl Team's helper to select all Custom Fields is nice, but what if the customer only wants to see some of the custom fields?</p>
<p>What if you want to change the separators?</p>
<p>What if you have to do it in MySQL?</p>
<p>Here's an example for Part custom fields that returns a newline separated list of name: value pairs.</p>
<pre class="hljs"><code><div><span class="hljs-keyword">SELECT</span> part.id <span class="hljs-keyword">AS</span> partID,
   part.num <span class="hljs-keyword">AS</span> partNum,
   <span class="hljs-keyword">GROUP_CONCAT</span>(
      <span class="hljs-keyword">CONCAT_WS</span>(<span class="hljs-string">': '</span>, <span class="hljs-comment">-- separator</span>
         JSON_UNQUOTE(JSON_EXTRACT(part.customFields, <span class="hljs-keyword">CONCAT</span>(<span class="hljs-string">'$."'</span>,customField.id,<span class="hljs-string">'"."name"'</span>))),
         JSON_UNQUOTE(JSON_EXTRACT(part.customFields, <span class="hljs-keyword">CONCAT</span>(<span class="hljs-string">'$."'</span>,customField.id,<span class="hljs-string">'"."value"'</span>)))
      )
      <span class="hljs-keyword">ORDER</span> <span class="hljs-keyword">BY</span> customField.sortOrder
      SEPARATOR <span class="hljs-string">'\n'</span>
      ) <span class="hljs-keyword">AS</span> customFieldInfo
<span class="hljs-keyword">FROM</span> part, customField
<span class="hljs-keyword">WHERE</span> customField.tableId = (<span class="hljs-keyword">SELECT</span> tableId <span class="hljs-keyword">FROM</span> tableReference <span class="hljs-keyword">WHERE</span> tableRefName = <span class="hljs-string">'Part'</span>)
   <span class="hljs-keyword">AND</span> JSON_UNQUOTE(JSON_EXTRACT(part.customFields, <span class="hljs-keyword">CONCAT</span>(<span class="hljs-string">'$."'</span>,customField.id,<span class="hljs-string">'"."value"'</span>))) <span class="hljs-keyword">IS</span> <span class="hljs-keyword">NOT</span> <span class="hljs-literal">NULL</span>
   <span class="hljs-keyword">AND</span> JSON_UNQUOTE(JSON_EXTRACT(part.customFields, <span class="hljs-keyword">CONCAT</span>(<span class="hljs-string">'$."'</span>,customField.id,<span class="hljs-string">'"."name"'</span>))) <span class="hljs-keyword">NOT</span> <span class="hljs-keyword">IN</span> (<span class="hljs-string">'Owner'</span>, <span class="hljs-string">'On Demand'</span>)
<span class="hljs-keyword">GROUP</span> <span class="hljs-keyword">BY</span> part.id
</div></code></pre>
<ul>
<li>Changing the starting table and the customField tableId will change which table you pull from</li>
<li>Removing the 3rd <code>WHERE</code> clause will pull all Custom Fields</li>
<li>Removing the 2nd <code>WHERE</code> clause will pull null Custom Fields</li>
</ul>
<h3 id="412-java-helpers-recreated-in-mysql">4.12. Java Helpers Recreated in MySQL</h3>
<h4 id="4121-address-helper-by-location-group">4.12.1. Address Helper By Location Group</h4>
<p><em><a href="#">Back to Top (HTML)</a></em></p>
<p><em><a href="#Table-of-Contents-%3C!---omit-in-toc---%3E">Back to Top (VS Code)</a></em></p>
<p>Follows the same logic as the Java Company Helper above</p>
<pre class="hljs"><code><div>left join (
   <span class="hljs-keyword">select</span> lg.id <span class="hljs-keyword">as</span> locationGroupId,
      <span class="hljs-keyword">coalesce</span>(
            (<span class="hljs-keyword">select</span> <span class="hljs-keyword">id</span> <span class="hljs-keyword">from</span> address <span class="hljs-keyword">where</span> locationGroupId = lg.id <span class="hljs-keyword">and</span> accountId = <span class="hljs-number">1</span> <span class="hljs-keyword">and</span> typeId = <span class="hljs-number">50</span> <span class="hljs-keyword">order</span> <span class="hljs-keyword">by</span> defaultFlag <span class="hljs-keyword">desc</span> <span class="hljs-keyword">limit</span> <span class="hljs-number">1</span>),
            (<span class="hljs-keyword">select</span> <span class="hljs-keyword">id</span> <span class="hljs-keyword">from</span> address <span class="hljs-keyword">where</span> locationGroupId = lg.id <span class="hljs-keyword">and</span> accountId = <span class="hljs-number">1</span> <span class="hljs-keyword">and</span> typeId = <span class="hljs-number">20</span> <span class="hljs-keyword">order</span> <span class="hljs-keyword">by</span> defaultFlag <span class="hljs-keyword">desc</span> <span class="hljs-keyword">limit</span> <span class="hljs-number">1</span>),
            (<span class="hljs-keyword">select</span> <span class="hljs-keyword">id</span> <span class="hljs-keyword">from</span> address <span class="hljs-keyword">where</span> locationGroupId = lg.id <span class="hljs-keyword">and</span> accountId = <span class="hljs-number">1</span> <span class="hljs-keyword">and</span> typeId = <span class="hljs-number">10</span> <span class="hljs-keyword">order</span> <span class="hljs-keyword">by</span> defaultFlag <span class="hljs-keyword">desc</span> <span class="hljs-keyword">limit</span> <span class="hljs-number">1</span>),
            (<span class="hljs-keyword">select</span> <span class="hljs-keyword">id</span> <span class="hljs-keyword">from</span> address <span class="hljs-keyword">where</span> locationGroupId = lg.id <span class="hljs-keyword">and</span> accountId = <span class="hljs-number">1</span> <span class="hljs-keyword">and</span> typeId = <span class="hljs-number">40</span> <span class="hljs-keyword">order</span> <span class="hljs-keyword">by</span> defaultFlag <span class="hljs-keyword">desc</span> <span class="hljs-keyword">limit</span> <span class="hljs-number">1</span>),
            (<span class="hljs-keyword">select</span> <span class="hljs-keyword">id</span> <span class="hljs-keyword">from</span> address <span class="hljs-keyword">where</span> locationGroupId = lg.id <span class="hljs-keyword">and</span> accountId = <span class="hljs-number">1</span> <span class="hljs-keyword">and</span> typeId = <span class="hljs-number">30</span> <span class="hljs-keyword">order</span> <span class="hljs-keyword">by</span> defaultFlag <span class="hljs-keyword">desc</span> <span class="hljs-keyword">limit</span> <span class="hljs-number">1</span>),
            (<span class="hljs-keyword">select</span> <span class="hljs-keyword">id</span> <span class="hljs-keyword">from</span> address <span class="hljs-keyword">where</span> accountId = <span class="hljs-number">1</span> <span class="hljs-keyword">and</span> typeId = <span class="hljs-number">50</span> <span class="hljs-keyword">and</span> defaultFlag)
      ) <span class="hljs-keyword">as</span> addressId
   <span class="hljs-keyword">from</span> locationGroup <span class="hljs-keyword">as</span> lg
) <span class="hljs-keyword">as</span> companyHelper <span class="hljs-keyword">on</span> companyHelper.locationGroupId = x.locationGroupId
</div></code></pre>
<h4 id="4122-get-all-tracking">4.12.2. Get all Tracking</h4>
<p><em><a href="#">Back to Top (HTML)</a></em></p>
<p><em><a href="#Table-of-Contents-%3C!---omit-in-toc---%3E">Back to Top (VS Code)</a></em></p>
<p>Replicates the java helper down to the way you use it.</p>
<p>Usage</p>
<ul>
<li>join on recordId = table.id and tableId = (select tableId from tablereference where tablerefname = 'table')</li>
</ul>
<pre class="hljs"><code><div><span class="hljs-keyword">select</span> ti.recordId,
   ti.tableId,
   <span class="hljs-keyword">group_concat</span>(<span class="hljs-keyword">distinct</span>
      <span class="hljs-keyword">concat_ws</span>(<span class="hljs-string">': '</span>, pt.abbr, <span class="hljs-keyword">case</span> pt.typeId
            <span class="hljs-keyword">when</span> <span class="hljs-number">10</span> <span class="hljs-keyword">then</span> ti.info
            <span class="hljs-keyword">when</span> <span class="hljs-number">20</span> <span class="hljs-keyword">then</span> <span class="hljs-keyword">date_format</span>(ti.infoDate,<span class="hljs-string">'%b %d, %Y'</span>)
            <span class="hljs-keyword">when</span> <span class="hljs-number">30</span> <span class="hljs-keyword">then</span> <span class="hljs-keyword">date_format</span>(ti.infoDate,<span class="hljs-string">'%b %d, %Y'</span>)
            <span class="hljs-keyword">when</span> <span class="hljs-number">40</span> <span class="hljs-keyword">then</span> sn.info
            <span class="hljs-keyword">when</span> <span class="hljs-number">50</span> <span class="hljs-keyword">then</span> ti.infoDouble
            <span class="hljs-keyword">when</span> <span class="hljs-number">60</span> <span class="hljs-keyword">then</span> ti.infoDouble
            <span class="hljs-keyword">when</span> <span class="hljs-number">70</span> <span class="hljs-keyword">then</span> ti.infoInteger
            <span class="hljs-keyword">when</span> <span class="hljs-number">80</span> <span class="hljs-keyword">then</span> ti.infoInteger
         <span class="hljs-keyword">end</span>)
      <span class="hljs-keyword">order</span> <span class="hljs-keyword">by</span> pt.id
      separator <span class="hljs-string">', '</span>
   ) <span class="hljs-keyword">as</span> <span class="hljs-keyword">tracking</span>

<span class="hljs-keyword">from</span> trackingInfo <span class="hljs-keyword">as</span> ti
   <span class="hljs-keyword">join</span> partTracking <span class="hljs-keyword">as</span> pt <span class="hljs-keyword">on</span> pt.id = ti.partTrackingId
   <span class="hljs-keyword">left</span> <span class="hljs-keyword">join</span> (
      <span class="hljs-keyword">select</span> ti.recordId,
         ti.tableId,
         ti.partTrackingId,
         <span class="hljs-keyword">group_concat</span>(<span class="hljs-keyword">distinct</span> sn.serialNum <span class="hljs-keyword">order</span> <span class="hljs-keyword">by</span> sn.serialNum separator <span class="hljs-string">', '</span>) <span class="hljs-keyword">as</span> info
      <span class="hljs-keyword">from</span> trackingInfoSN <span class="hljs-keyword">as</span> sn
         <span class="hljs-keyword">join</span> trackingInfo <span class="hljs-keyword">as</span> ti <span class="hljs-keyword">on</span> ti.id = sn.trackingInfoId
      <span class="hljs-keyword">group</span> <span class="hljs-keyword">by</span> ti.recordId, ti.tableId, ti.partTrackingId
   ) <span class="hljs-keyword">as</span> sn <span class="hljs-keyword">on</span> sn.recordId = ti.recordId <span class="hljs-keyword">and</span> sn.tableId = ti.tableId <span class="hljs-keyword">and</span> sn.partTrackingId = ti.partTrackingId

<span class="hljs-keyword">group</span> <span class="hljs-keyword">by</span> ti.recordId, ti.tableId

<span class="hljs-comment">-- rev 1/14/2020</span>
</div></code></pre>
<h3 id="413-addresses">4.13. Addresses</h3>
<h4 id="4131-select-full-address">4.13.1. Select Full Address</h4>
<p><em><a href="#">Back to Top (HTML)</a></em></p>
<p><em><a href="#Table-of-Contents-%3C!---omit-in-toc---%3E">Back to Top (VS Code)</a></em></p>
<p><code>concat_ws()</code> ignores null values for you. No need to coalesce much of this</p>
<pre class="hljs"><code><div>concat_ws('\n', <span class="hljs-comment">-- newline as separator</span>
   x, <span class="hljs-comment">-- address name</span>
   x, <span class="hljs-comment">-- address</span>
   concat_ws(' ', concat_ws(', ', x, x), x), <span class="hljs-comment">-- city, state zip</span>
   if($P!{ShowCountry}, x, null), <span class="hljs-comment">-- country</span>
   if($P!{ShowPhone}, concat('Phone: ', (<span class="hljs-keyword">select</span> datus <span class="hljs-keyword">from</span> contact <span class="hljs-keyword">where</span> addressId = address.id <span class="hljs-keyword">and</span> typeId = <span class="hljs-number">50</span> <span class="hljs-keyword">order</span> <span class="hljs-keyword">by</span> defaultFlag <span class="hljs-keyword">desc</span> <span class="hljs-keyword">limit</span> <span class="hljs-number">1</span>)), <span class="hljs-literal">null</span>), <span class="hljs-comment">-- main phone</span>
   <span class="hljs-keyword">if</span>($P!{ShowEmail}, <span class="hljs-keyword">concat</span>(<span class="hljs-string">'Email: '</span>, (<span class="hljs-keyword">select</span> datus <span class="hljs-keyword">from</span> contact <span class="hljs-keyword">where</span> addressId = address.id <span class="hljs-keyword">and</span> typeId = <span class="hljs-number">60</span> <span class="hljs-keyword">order</span> <span class="hljs-keyword">by</span> defaultFlag <span class="hljs-keyword">desc</span> <span class="hljs-keyword">limit</span> <span class="hljs-number">1</span>)), <span class="hljs-literal">null</span>) <span class="hljs-comment">-- email</span>
) <span class="hljs-keyword">as</span> fullAddress
</div></code></pre>
<h4 id="4132-address-helper-by-accountid">4.13.2. Address Helper By AccountID</h4>
<p><em><a href="#">Back to Top (HTML)</a></em></p>
<p><em><a href="#Table-of-Contents-%3C!---omit-in-toc---%3E">Back to Top (VS Code)</a></em></p>
<p>Follows the same logic as the Java Company Helper above</p>
<pre class="hljs"><code><div>left join (
   <span class="hljs-keyword">select</span> accountId,
      substring_index(<span class="hljs-keyword">group_concat</span>(
            <span class="hljs-keyword">distinct</span> <span class="hljs-keyword">id</span>
            <span class="hljs-keyword">order</span> <span class="hljs-keyword">by</span> <span class="hljs-keyword">case</span> typeId
               <span class="hljs-keyword">when</span> <span class="hljs-number">50</span> <span class="hljs-keyword">then</span> <span class="hljs-number">1</span> <span class="hljs-comment">-- main</span>
               <span class="hljs-keyword">when</span> <span class="hljs-number">20</span> <span class="hljs-keyword">then</span> <span class="hljs-number">2</span> <span class="hljs-comment">-- bill</span>
               <span class="hljs-keyword">when</span> <span class="hljs-number">10</span> <span class="hljs-keyword">then</span> <span class="hljs-number">3</span> <span class="hljs-comment">-- ship</span>
               <span class="hljs-keyword">when</span> <span class="hljs-number">40</span> <span class="hljs-keyword">then</span> <span class="hljs-number">4</span> <span class="hljs-comment">-- home</span>
               <span class="hljs-keyword">else</span> <span class="hljs-number">5</span> <span class="hljs-comment">-- remit</span>
               <span class="hljs-keyword">end</span>, defaultFlag <span class="hljs-keyword">desc</span> <span class="hljs-comment">-- if there is more than 1 address per type, it will put default on top</span>
      ),<span class="hljs-string">','</span>,<span class="hljs-number">1</span>) <span class="hljs-keyword">as</span> addressId
   <span class="hljs-keyword">from</span> address
   <span class="hljs-keyword">group</span> <span class="hljs-keyword">by</span> accountId
) <span class="hljs-keyword">as</span> addressHelper <span class="hljs-keyword">on</span> addressHelper.accountId = <span class="hljs-comment">-- customer.accountId, vendor.accountId</span>
</div></code></pre>
<h3 id="414-duplication-workarounds">4.14. Duplication Workarounds</h3>
<h4 id="4141-product-tree">4.14.1. Product Tree</h4>
<p><em><a href="#">Back to Top (HTML)</a></em></p>
<p><em><a href="#Table-of-Contents-%3C!---omit-in-toc---%3E">Back to Top (VS Code)</a></em></p>
<pre class="hljs"><code><div>left join (
   <span class="hljs-keyword">select</span> productId,
      substring_index(<span class="hljs-keyword">group_concat</span>(productTreeId <span class="hljs-keyword">order</span> <span class="hljs-keyword">by</span> productTreeId),<span class="hljs-string">','</span>,<span class="hljs-number">1</span>) <span class="hljs-keyword">as</span> productTreeId
   <span class="hljs-keyword">from</span> productToTree
   <span class="hljs-keyword">where</span> <span class="hljs-keyword">coalesce</span>(productTreeId,<span class="hljs-number">0</span>) <span class="hljs-keyword">in</span> ($P!{productTree1})
      <span class="hljs-keyword">or</span> <span class="hljs-keyword">coalesce</span>(productTreeId,<span class="hljs-number">0</span>) <span class="hljs-keyword">like</span> <span class="hljs-string">'$P!{productTree2}'</span>
   <span class="hljs-keyword">group</span> <span class="hljs-keyword">by</span> productId
) <span class="hljs-keyword">as</span> productToTree <span class="hljs-keyword">on</span> productToTree.productId = product.id
</div></code></pre>
<h4 id="4142-part">4.14.2. Part</h4>
<p><em><a href="#">Back to Top (HTML)</a></em></p>
<p><em><a href="#Table-of-Contents-%3C!---omit-in-toc---%3E">Back to Top (VS Code)</a></em></p>
<p>Should only use when going from part to product</p>
<pre class="hljs"><code><div>left join (
   <span class="hljs-keyword">select</span> part.id <span class="hljs-keyword">as</span> partId,
      <span class="hljs-keyword">coalesce</span>(
            defaultProduct.id, <span class="hljs-comment">-- check for default first</span>
            substring_index(<span class="hljs-keyword">group_concat</span>(product.id <span class="hljs-keyword">order</span> <span class="hljs-keyword">by</span> product.dateCreated),<span class="hljs-string">','</span>,<span class="hljs-number">1</span>)
      ) <span class="hljs-keyword">as</span> productId
   <span class="hljs-keyword">from</span> part
      <span class="hljs-keyword">left</span> <span class="hljs-keyword">join</span> product <span class="hljs-keyword">on</span> product.partId = part.id <span class="hljs-keyword">and</span> product.activeFlag = <span class="hljs-number">1</span>
      <span class="hljs-keyword">left</span> <span class="hljs-keyword">join</span> product <span class="hljs-keyword">as</span> defaultProduct <span class="hljs-keyword">on</span> defaultProduct.id = part.defaultProductId
   <span class="hljs-keyword">group</span> <span class="hljs-keyword">by</span> part.id
) <span class="hljs-keyword">as</span> partToProduct <span class="hljs-keyword">on</span> partToProduct.partId = part.id
</div></code></pre>
<h4 id="4143-customer-group">4.14.3. Customer Group</h4>
<p><em><a href="#">Back to Top (HTML)</a></em></p>
<p><em><a href="#Table-of-Contents-%3C!---omit-in-toc---%3E">Back to Top (VS Code)</a></em></p>
<pre class="hljs"><code><div>left join (
   <span class="hljs-keyword">select</span> accountId,
      substring_index(<span class="hljs-keyword">group_concat</span>(groupId <span class="hljs-keyword">order</span> <span class="hljs-keyword">by</span> <span class="hljs-keyword">id</span>),<span class="hljs-string">','</span>,<span class="hljs-number">1</span>) <span class="hljs-keyword">as</span> groupId
   <span class="hljs-keyword">from</span> accountGroupRelation
   <span class="hljs-keyword">where</span> groupId <span class="hljs-keyword">in</span> ($P!{customerGroupID})
   <span class="hljs-keyword">group</span> <span class="hljs-keyword">by</span> accountId
) <span class="hljs-keyword">as</span> accountGroupRelation <span class="hljs-keyword">on</span> accountGroupRelation.accountId = customer.accountId
</div></code></pre>
<h3 id="415-part-cost">4.15. Part Cost</h3>
<p><em><a href="#">Back to Top (HTML)</a></em></p>
<p><em><a href="#Table-of-Contents-%3C!---omit-in-toc---%3E">Back to Top (VS Code)</a></em></p>
<h4 id="4151-pcbcostingmethod">4.15.1. $P{cbCostingMethod}</h4>
<p><em><a href="#">Back to Top (HTML)</a></em></p>
<p><em><a href="#Table-of-Contents-%3C!---omit-in-toc---%3E">Back to Top (VS Code)</a></em></p>
<pre class="hljs"><code><div>case '$P!{cbCostingMethod}'
   when 'fifo' then (<span class="hljs-keyword">select</span> orgTotalCost / orgQty <span class="hljs-keyword">from</span> costLayer <span class="hljs-keyword">where</span> partId = part.id <span class="hljs-keyword">and</span> statusId = <span class="hljs-number">10</span> <span class="hljs-keyword">order</span> <span class="hljs-keyword">by</span> <span class="hljs-keyword">id</span> <span class="hljs-keyword">asc</span> <span class="hljs-keyword">limit</span> <span class="hljs-number">1</span>)
   <span class="hljs-keyword">when</span> <span class="hljs-string">'lifo'</span> <span class="hljs-keyword">then</span> (<span class="hljs-keyword">select</span> orgTotalCost / orgQty <span class="hljs-keyword">from</span> costLayer <span class="hljs-keyword">where</span> partId = part.id <span class="hljs-keyword">and</span> statusId = <span class="hljs-number">10</span> <span class="hljs-keyword">order</span> <span class="hljs-keyword">by</span> <span class="hljs-keyword">id</span> <span class="hljs-keyword">desc</span> <span class="hljs-keyword">limit</span> <span class="hljs-number">1</span>)
   <span class="hljs-keyword">when</span> <span class="hljs-string">'average'</span> <span class="hljs-keyword">then</span> <span class="hljs-keyword">coalesce</span>(partCost.avgCost,<span class="hljs-number">0</span>)
   <span class="hljs-keyword">else</span> part.stdcost
<span class="hljs-keyword">end</span> <span class="hljs-keyword">as</span> unitcost
</div></code></pre>
<h4 id="4152-fifo">4.15.2. FIFO</h4>
<p><em><a href="#">Back to Top (HTML)</a></em></p>
<p><em><a href="#Table-of-Contents-%3C!---omit-in-toc---%3E">Back to Top (VS Code)</a></em></p>
<pre class="hljs"><code><div>(<span class="hljs-keyword">SELECT</span> orgTotalCost / orgQty <span class="hljs-keyword">FROM</span> costLayer <span class="hljs-keyword">WHERE</span> partId = part.id <span class="hljs-keyword">AND</span> statusId = <span class="hljs-number">10</span> <span class="hljs-keyword">ORDER</span> <span class="hljs-keyword">BY</span> <span class="hljs-keyword">id</span> <span class="hljs-keyword">ASC</span> <span class="hljs-keyword">LIMIT</span> <span class="hljs-number">1</span>)
</div></code></pre>
<h4 id="4153-lifo">4.15.3. LIFO</h4>
<p><em><a href="#">Back to Top (HTML)</a></em></p>
<p><em><a href="#Table-of-Contents-%3C!---omit-in-toc---%3E">Back to Top (VS Code)</a></em></p>
<pre class="hljs"><code><div>(<span class="hljs-keyword">SELECT</span> orgTotalCost / orgQty <span class="hljs-keyword">FROM</span> costLayer <span class="hljs-keyword">WHERE</span> partId = part.id <span class="hljs-keyword">AND</span> statusId = <span class="hljs-number">10</span> <span class="hljs-keyword">ORDER</span> <span class="hljs-keyword">BY</span> <span class="hljs-keyword">id</span> <span class="hljs-keyword">DESC</span> <span class="hljs-keyword">LIMIT</span> <span class="hljs-number">1</span>)
</div></code></pre>
<h3 id="416-most-recent-date-packed-per-shipid">4.16. Most Recent Date Packed Per shipID</h3>
<p><em><a href="#">Back to Top (HTML)</a></em></p>
<p><em><a href="#Table-of-Contents-%3C!---omit-in-toc---%3E">Back to Top (VS Code)</a></em></p>
<pre class="hljs"><code><div><span class="hljs-keyword">SELECT</span> actual.timestamp
<span class="hljs-keyword">FROM</span> ship_aud <span class="hljs-keyword">AS</span> ship
<span class="hljs-keyword">LEFT</span> <span class="hljs-keyword">JOIN</span> revinfo <span class="hljs-keyword">ON</span> ship.rev = revinfo.id
<span class="hljs-keyword">LEFT</span> <span class="hljs-keyword">JOIN</span> (
   <span class="hljs-keyword">SELECT</span> ship_aud.*,
      rev.timestamp
   <span class="hljs-keyword">FROM</span> ship_aud
   <span class="hljs-keyword">LEFT</span> <span class="hljs-keyword">JOIN</span> revinfo <span class="hljs-keyword">AS</span> rev <span class="hljs-keyword">ON</span> ship_aud.rev = rev.id
) <span class="hljs-keyword">AS</span> actual <span class="hljs-keyword">ON</span> actual.timestamp &gt; revinfo.timestamp <span class="hljs-keyword">AND</span> actual.id = ship.id <span class="hljs-keyword">AND</span> actual.statusid = <span class="hljs-number">20</span>
<span class="hljs-keyword">WHERE</span> ship.statusid = <span class="hljs-number">10</span>
   <span class="hljs-keyword">AND</span> ship.id = $P!{shipID}
<span class="hljs-keyword">ORDER</span> <span class="hljs-keyword">BY</span> revinfo.timestamp <span class="hljs-keyword">desc</span>, actual.timestamp
<span class="hljs-keyword">LIMIT</span> <span class="hljs-number">1</span>
</div></code></pre>
<h3 id="417-po-to-so-via-po-notes">4.17. PO to SO via PO Notes</h3>
<p><em><a href="#">Back to Top (HTML)</a></em></p>
<p><em><a href="#Table-of-Contents-%3C!---omit-in-toc---%3E">Back to Top (VS Code)</a></em></p>
<p>Looks for the Sales Order Number in the PO Notes. Only works for orders that were automatically created by Fishbowl via SO to PO.</p>
<pre class="hljs"><code><div><span class="hljs-keyword">select</span> <span class="hljs-keyword">id</span> <span class="hljs-keyword">as</span> poID,
   <span class="hljs-keyword">case</span>
      <span class="hljs-keyword">when</span> <span class="hljs-keyword">locate</span>(<span class="hljs-string">'SO #'</span>,po.note) &gt; <span class="hljs-number">1</span> <span class="hljs-keyword">then</span> <span class="hljs-keyword">trim</span>(<span class="hljs-keyword">substring</span>(substring_index(po.note,<span class="hljs-string">' '</span>,<span class="hljs-number">4</span>),<span class="hljs-number">17</span>))
      <span class="hljs-keyword">when</span> <span class="hljs-keyword">locate</span>(<span class="hljs-string">'Sales Order #'</span>,po.note) &gt; <span class="hljs-number">1</span> <span class="hljs-keyword">then</span> <span class="hljs-keyword">trim</span>(<span class="hljs-keyword">substring</span>(substring_index(po.note,<span class="hljs-string">'\n'</span>,<span class="hljs-number">1</span>),<span class="hljs-number">26</span>))
      <span class="hljs-keyword">else</span> <span class="hljs-literal">null</span>
   <span class="hljs-keyword">end</span> <span class="hljs-keyword">as</span> soNum,
   po.note
<span class="hljs-keyword">from</span> po
<span class="hljs-keyword">where</span> <span class="hljs-keyword">locate</span>(<span class="hljs-string">'SO #'</span>,po.note) &gt; <span class="hljs-number">1</span> <span class="hljs-keyword">or</span> <span class="hljs-keyword">locate</span>(<span class="hljs-string">'Sales Order #'</span>,po.note) &gt; <span class="hljs-number">1</span>
</div></code></pre>
<h3 id="418-on-hand-by-date-using-subselect-in-derived-table-form">4.18. On Hand By Date using subselect in Derived Table Form</h3>
<p><em><a href="#">Back to Top (HTML)</a></em></p>
<p><em><a href="#Table-of-Contents-%3C!---omit-in-toc---%3E">Back to Top (VS Code)</a></em></p>
<p>You could use this subselect in the main query, but this may yield faster run times as it only has to populate the table once.</p>
<pre class="hljs"><code><div><span class="hljs-keyword">select</span> part.id <span class="hljs-keyword">as</span> partId,
   locationGroup.id <span class="hljs-keyword">as</span> locationGroupId,
   <span class="hljs-keyword">coalesce</span>((<span class="hljs-keyword">select</span> qtyOnHand
    <span class="hljs-keyword">from</span> inventoryLog
    <span class="hljs-keyword">where</span> eventDate &lt;= $P{dateRange1}
       <span class="hljs-keyword">and</span> typeId <span class="hljs-keyword">in</span> (<span class="hljs-keyword">select</span> <span class="hljs-keyword">id</span> <span class="hljs-keyword">from</span> inventoryLogType)
       <span class="hljs-keyword">and</span> partId = part.id
       <span class="hljs-keyword">and</span> locationGroupId = locationGroup.id
    <span class="hljs-keyword">order</span> <span class="hljs-keyword">by</span> eventDate <span class="hljs-keyword">desc</span>
    <span class="hljs-keyword">limit</span> <span class="hljs-number">1</span>
   ),<span class="hljs-number">0</span>) <span class="hljs-keyword">as</span> onHandByDate
<span class="hljs-keyword">from</span> part, locationGroup
<span class="hljs-keyword">where</span> part.typeId = <span class="hljs-number">10</span>
   <span class="hljs-keyword">and</span> part.activeFlag
   <span class="hljs-keyword">and</span> locationGroup.activeFlag
</div></code></pre>
<h3 id="419-part-cost-history-snapshot-by-date">4.19. Part Cost History Snapshot By Date</h3>
<p><em><a href="#">Back to Top (HTML)</a></em></p>
<p><em><a href="#Table-of-Contents-%3C!---omit-in-toc---%3E">Back to Top (VS Code)</a></em></p>
<p>Gets you access to nextCost, avgCost, stdCost, onHand on a specific date; assuming Part Cost History snapshot is enabled</p>
<pre class="hljs"><code><div><span class="hljs-keyword">select</span> partId,
   <span class="hljs-keyword">id</span> <span class="hljs-keyword">as</span> partCostHistoryId
<span class="hljs-keyword">from</span> partCostHistory
<span class="hljs-keyword">where</span> partCostHistory.dateCaptured &lt; $P{dateRange1}
<span class="hljs-keyword">group</span> <span class="hljs-keyword">by</span> partId
<span class="hljs-keyword">having</span> <span class="hljs-keyword">max</span>(dateCaptured)
</div></code></pre>
<h3 id="420-pick-status-information">4.20. Pick Status information</h3>
<p>This grabs the pick status and will reflect what shows in the Picking module (green, yellow, or red) depending on available to pick versus the pick quantity.</p>
<pre class="hljs"><code><div><span class="hljs-keyword">select</span>
    pick.num <span class="hljs-keyword">as</span> pickNum,
    pick.statusid <span class="hljs-keyword">as</span> pickStatus,
    (<span class="hljs-keyword">case</span> 
        <span class="hljs-keyword">when</span> pick.num <span class="hljs-keyword">like</span> <span class="hljs-string">'S%'</span> <span class="hljs-keyword">then</span> <span class="hljs-string">'SO'</span>
        <span class="hljs-keyword">when</span> pick.num <span class="hljs-keyword">like</span> <span class="hljs-string">'W%'</span> <span class="hljs-keyword">then</span> <span class="hljs-string">'WO'</span>
        <span class="hljs-keyword">when</span> pick.num <span class="hljs-keyword">like</span> <span class="hljs-string">'P%'</span> <span class="hljs-keyword">then</span> <span class="hljs-string">'PO'</span>
        <span class="hljs-keyword">when</span> pick.num <span class="hljs-keyword">like</span> <span class="hljs-string">'T%'</span> <span class="hljs-keyword">then</span> <span class="hljs-string">'TO'</span>
     <span class="hljs-keyword">else</span> <span class="hljs-literal">null</span>
     <span class="hljs-keyword">end</span>) <span class="hljs-keyword">as</span> orderType,
    (<span class="hljs-keyword">case</span> pickFulfill.statuses
        <span class="hljs-keyword">when</span> <span class="hljs-string">'Y'</span> <span class="hljs-keyword">then</span> <span class="hljs-string">'Green'</span>
        <span class="hljs-keyword">when</span> <span class="hljs-string">'N'</span> <span class="hljs-keyword">then</span> <span class="hljs-string">'Red'</span>
        <span class="hljs-keyword">when</span> <span class="hljs-string">'YN'</span> <span class="hljs-keyword">then</span> <span class="hljs-string">'Yellow'</span>
        <span class="hljs-keyword">when</span> <span class="hljs-string">'NY'</span> <span class="hljs-keyword">then</span> <span class="hljs-string">'Yellow'</span>
    <span class="hljs-keyword">else</span> <span class="hljs-literal">null</span>
    <span class="hljs-keyword">end</span>) <span class="hljs-keyword">as</span> pickStatuses
<span class="hljs-keyword">from</span> pick
    <span class="hljs-keyword">left</span> <span class="hljs-keyword">outer</span> <span class="hljs-keyword">join</span> (<span class="hljs-keyword">select</span> 
                    pickitem.pickid, 
                    <span class="hljs-keyword">group_concat</span>(<span class="hljs-keyword">distinct</span> 
                        <span class="hljs-keyword">if</span>(<span class="hljs-keyword">coalesce</span>(qti.qtyonhand,<span class="hljs-number">0</span>) - <span class="hljs-keyword">coalesce</span>(qtycommitted.qty,<span class="hljs-number">0</span>) - <span class="hljs-keyword">coalesce</span>(qti.qtynotavailabletopick,<span class="hljs-number">0</span>) &gt;= pickitem.qty,<span class="hljs-string">'Y'</span>,<span class="hljs-string">'N'</span>)
                        separator <span class="hljs-string">''</span>) <span class="hljs-keyword">as</span> statuses
                    <span class="hljs-keyword">from</span> pickitem
                    <span class="hljs-keyword">inner</span> <span class="hljs-keyword">join</span> part <span class="hljs-keyword">on</span> pickitem.partid = part.id
                    <span class="hljs-keyword">inner</span> <span class="hljs-keyword">join</span> pick <span class="hljs-keyword">on</span> pickitem.pickid = pick.id
                    <span class="hljs-keyword">left</span> <span class="hljs-keyword">outer</span> <span class="hljs-keyword">join</span> qtyinventorytotals qti <span class="hljs-keyword">on</span> part.id = qti.partid <span class="hljs-keyword">and</span> pick.locationgroupid = qti.locationgroupid
                    <span class="hljs-keyword">left</span> <span class="hljs-keyword">outer</span> <span class="hljs-keyword">join</span> qtycommitted <span class="hljs-keyword">on</span> qtycommitted.partid = part.id <span class="hljs-keyword">and</span> qtycommitted.locationgroupid = pick.locationgroupid
                    <span class="hljs-keyword">group</span> <span class="hljs-keyword">by</span> pick.id
                    ) <span class="hljs-keyword">as</span> pickFulfill <span class="hljs-keyword">on</span> pickFulfill.pickid = pick.id
<span class="hljs-keyword">where</span> pick.statusid &lt; <span class="hljs-number">40</span>
<span class="hljs-keyword">order</span> <span class="hljs-keyword">by</span> orderType, pickNum
</div></code></pre>
<hr>
<h2 id="5-stock-report-code-snippets">5. Stock Report Code Snippets</h2>
<p><em><a href="#">Back to Top (HTML)</a></em></p>
<p><em><a href="#Table-of-Contents-%3C!---omit-in-toc---%3E">Back to Top (VS Code)</a></em></p>
<h3 id="51-on-hand-by-date">5.1. On Hand By Date</h3>
<pre class="hljs"><code><div>left join (
   <span class="hljs-keyword">select</span> partId,
      locationGroupId,
      <span class="hljs-keyword">max</span>(<span class="hljs-keyword">id</span>) <span class="hljs-keyword">as</span> inventoryLogId
   <span class="hljs-keyword">from</span> inventoryLog
   <span class="hljs-keyword">where</span> typeId <span class="hljs-keyword">in</span> (<span class="hljs-number">1</span>,<span class="hljs-number">10</span>,<span class="hljs-number">15</span>,<span class="hljs-number">20</span>,<span class="hljs-number">30</span>,<span class="hljs-number">40</span>,<span class="hljs-number">50</span>,<span class="hljs-number">60</span>,<span class="hljs-number">64</span>,<span class="hljs-number">65</span>,<span class="hljs-number">67</span>,<span class="hljs-number">68</span>,<span class="hljs-number">72</span>)
      <span class="hljs-keyword">and</span> eventDate &lt;= <span class="hljs-keyword">date_sub</span>($P{dateRange1}, <span class="hljs-built_in">interval</span> <span class="hljs-number">1</span> <span class="hljs-keyword">second</span>)
   <span class="hljs-keyword">group</span> <span class="hljs-keyword">by</span> partId, locationGroupId
) <span class="hljs-keyword">as</span> maxLogDate <span class="hljs-keyword">on</span> maxLogDate.partId = part.id <span class="hljs-keyword">and</span> maxLogDate.locationGroupId = locationGroup.id
</div></code></pre>

</body>
</html>
